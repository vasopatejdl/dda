var ga=Object.defineProperty,od=Object.defineProperties;var ud=Object.getOwnPropertyDescriptors;var pa=Object.getOwnPropertySymbols;var ld=Object.prototype.hasOwnProperty,cd=Object.prototype.propertyIsEnumerable;var ma=(fe,X,Q)=>X in fe?ga(fe,X,{enumerable:!0,configurable:!0,writable:!0,value:Q}):fe[X]=Q,p=(fe,X)=>{for(var Q in X||(X={}))ld.call(X,Q)&&ma(fe,Q,X[Q]);if(pa)for(var Q of pa(X))cd.call(X,Q)&&ma(fe,Q,X[Q]);return fe},V=(fe,X)=>od(fe,ud(X)),a=(fe,X)=>ga(fe,"name",{value:X,configurable:!0});var at=(fe,X,Q)=>new Promise((on,K)=>{var It=C=>{try{P(Q.next(C))}catch(ee){K(ee)}},O=C=>{try{P(Q.throw(C))}catch(ee){K(ee)}},P=C=>C.done?on(C.value):Promise.resolve(C.value).then(It,O);P((Q=Q.apply(fe,X)).next())});a(function(X,Q){typeof exports=="object"&&typeof module=="object"?module.exports=Q(require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["react","react-dom"],Q):typeof exports=="object"?exports.rn=Q(require("react"),require("react-dom")):X.rn=Q(X.React,X.ReactDOM)},"webpackUniversalModuleDefinition")(self,function(fe,X){return function(){var Q={155:function(O){var P=1e3,C=P*60,ee=C*60,oe=ee*24,xe=oe*7,m=oe*365.25;O.exports=function(_,x){x=x||{};var B=typeof _;if(B==="string"&&_.length>0)return ge(_);if(B==="number"&&isFinite(_))return x.long?M(_):G(_);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(_))};function ge(_){if(_=String(_),!(_.length>100)){var x=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(_);if(!!x){var B=parseFloat(x[1]),w=(x[2]||"ms").toLowerCase();switch(w){case"years":case"year":case"yrs":case"yr":case"y":return B*m;case"weeks":case"week":case"w":return B*xe;case"days":case"day":case"d":return B*oe;case"hours":case"hour":case"hrs":case"hr":case"h":return B*ee;case"minutes":case"minute":case"mins":case"min":case"m":return B*C;case"seconds":case"second":case"secs":case"sec":case"s":return B*P;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return B;default:return}}}}a(ge,"parse");function G(_){var x=Math.abs(_);return x>=oe?Math.round(_/oe)+"d":x>=ee?Math.round(_/ee)+"h":x>=C?Math.round(_/C)+"m":x>=P?Math.round(_/P)+"s":_+"ms"}a(G,"fmtShort");function M(_){var x=Math.abs(_);return x>=oe?j(_,x,oe,"day"):x>=ee?j(_,x,ee,"hour"):x>=C?j(_,x,C,"minute"):x>=P?j(_,x,P,"second"):_+" ms"}a(M,"fmtLong");function j(_,x,B,w){var A=x>=B*1.5;return Math.round(_/B)+" "+w+(A?"s":"")}a(j,"plural")},92:function(O,P,C){P.formatArgs=oe,P.save=xe,P.load=m,P.useColors=ee,P.storage=ge(),P.destroy=(()=>{let M=!1;return()=>{M||(M=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),P.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function ee(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}a(ee,"useColors");function oe(M){if(M[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+M[0]+(this.useColors?"%c ":" ")+"+"+O.exports.humanize(this.diff),!this.useColors)return;const j="color: "+this.color;M.splice(1,0,j,"color: inherit");let _=0,x=0;M[0].replace(/%[a-zA-Z%]/g,B=>{B!=="%%"&&(_++,B==="%c"&&(x=_))}),M.splice(x,0,j)}a(oe,"formatArgs"),P.log=console.debug||console.log||(()=>{});function xe(M){try{M?P.storage.setItem("debug",M):P.storage.removeItem("debug")}catch(j){}}a(xe,"save");function m(){let M;try{M=P.storage.getItem("debug")}catch(j){}return!M&&typeof process!="undefined"&&"env"in process&&(M=process.env.DEBUG),M}a(m,"load");function ge(){try{return localStorage}catch(M){}}a(ge,"localstorage"),O.exports=C(935)(P);const{formatters:G}=O.exports;G.j=function(M){try{return JSON.stringify(M)}catch(j){return"[UnexpectedJSONParseError]: "+j.message}}},935:function(O,P,C){function ee(oe){m.debug=m,m.default=m,m.coerce=x,m.disable=M,m.enable=G,m.enabled=j,m.humanize=C(155),m.destroy=B,Object.keys(oe).forEach(w=>{m[w]=oe[w]}),m.names=[],m.skips=[],m.formatters={};function xe(w){let A=0;for(let H=0;H<w.length;H++)A=(A<<5)-A+w.charCodeAt(H),A|=0;return m.colors[Math.abs(A)%m.colors.length]}a(xe,"selectColor"),m.selectColor=xe;function m(w){let A,H=null,Me,Mt;function b(...ve){if(!b.enabled)return;const je=b,_t=Number(new Date),un=_t-(A||_t);je.diff=un,je.prev=A,je.curr=_t,A=_t,ve[0]=m.coerce(ve[0]),typeof ve[0]!="string"&&ve.unshift("%O");let te=0;ve[0]=ve[0].replace(/%([a-zA-Z%])/g,(wt,Nn)=>{if(wt==="%%")return"%";te++;const kt=m.formatters[Nn];if(typeof kt=="function"){const In=ve[te];wt=kt.call(je,In),ve.splice(te,1),te--}return wt}),m.formatArgs.call(je,ve),(je.log||m.log).apply(je,ve)}return a(b,"debug"),b.namespace=w,b.useColors=m.useColors(),b.color=m.selectColor(w),b.extend=ge,b.destroy=m.destroy,Object.defineProperty(b,"enabled",{enumerable:!0,configurable:!1,get:()=>H!==null?H:(Me!==m.namespaces&&(Me=m.namespaces,Mt=m.enabled(w)),Mt),set:ve=>{H=ve}}),typeof m.init=="function"&&m.init(b),b}a(m,"createDebug");function ge(w,A){const H=m(this.namespace+(typeof A=="undefined"?":":A)+w);return H.log=this.log,H}a(ge,"extend");function G(w){m.save(w),m.namespaces=w,m.names=[],m.skips=[];let A;const H=(typeof w=="string"?w:"").split(/[\s,]+/),Me=H.length;for(A=0;A<Me;A++)!H[A]||(w=H[A].replace(/\*/g,".*?"),w[0]==="-"?m.skips.push(new RegExp("^"+w.slice(1)+"$")):m.names.push(new RegExp("^"+w+"$")))}a(G,"enable");function M(){const w=[...m.names.map(_),...m.skips.map(_).map(A=>"-"+A)].join(",");return m.enable(""),w}a(M,"disable");function j(w){if(w[w.length-1]==="*")return!0;let A,H;for(A=0,H=m.skips.length;A<H;A++)if(m.skips[A].test(w))return!1;for(A=0,H=m.names.length;A<H;A++)if(m.names[A].test(w))return!0;return!1}a(j,"enabled");function _(w){return w.toString().substring(2,w.toString().length-2).replace(/\.\*\?$/,"*")}a(_,"toNamespace");function x(w){return w instanceof Error?w.stack||w.message:w}a(x,"coerce");function B(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return a(B,"destroy"),m.enable(m.load()),m}a(ee,"setup"),O.exports=ee},914:function(O){"use strict";/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var P=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;function oe(m){if(m==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(m)}a(oe,"toObject");function xe(){try{if(!Object.assign)return!1;var m=new String("abc");if(m[5]="de",Object.getOwnPropertyNames(m)[0]==="5")return!1;for(var ge={},G=0;G<10;G++)ge["_"+String.fromCharCode(G)]=G;var M=Object.getOwnPropertyNames(ge).map(function(_){return ge[_]});if(M.join("")!=="0123456789")return!1;var j={};return"abcdefghijklmnopqrst".split("").forEach(function(_){j[_]=_}),Object.keys(Object.assign({},j)).join("")==="abcdefghijklmnopqrst"}catch(_){return!1}}a(xe,"shouldUseNative"),O.exports=xe()?Object.assign:function(m,ge){for(var G,M=oe(m),j,_=1;_<arguments.length;_++){G=Object(arguments[_]);for(var x in G)C.call(G,x)&&(M[x]=G[x]);if(P){j=P(G);for(var B=0;B<j.length;B++)ee.call(G,j[B])&&(M[j[B]]=G[j[B]])}}return M}},222:function(O,P,C){"use strict";var ee;/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */C(914);var oe=C(359),xe=60103;if(ee=60107,typeof Symbol=="function"&&Symbol.for){var m=Symbol.for;xe=m("react.element"),ee=m("react.fragment")}var ge=oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,G=Object.prototype.hasOwnProperty,M={key:!0,ref:!0,__self:!0,__source:!0};function j(_,x,B){var w,A={},H=null,Me=null;B!==void 0&&(H=""+B),x.key!==void 0&&(H=""+x.key),x.ref!==void 0&&(Me=x.ref);for(w in x)G.call(x,w)&&!M.hasOwnProperty(w)&&(A[w]=x[w]);if(_&&_.defaultProps)for(w in x=_.defaultProps,x)A[w]===void 0&&(A[w]=x[w]);return{$$typeof:xe,type:_,key:H,ref:Me,props:A,_owner:ge.current}}a(j,"q"),P.jsx=j,P.jsxs=j},568:function(O,P,C){"use strict";O.exports=C(222)},359:function(O){"use strict";O.exports=fe},318:function(O){"use strict";O.exports=X}},on={};function K(O){var P=on[O];if(P!==void 0)return P.exports;var C=on[O]={exports:{}};return Q[O](C,C.exports,K),C.exports}a(K,"__webpack_require__"),function(){K.n=function(O){var P=O&&O.__esModule?function(){return O.default}:function(){return O};return K.d(P,{a:P}),P}}(),function(){K.d=function(O,P){for(var C in P)K.o(P,C)&&!K.o(O,C)&&Object.defineProperty(O,C,{enumerable:!0,get:P[C]})}}(),function(){K.o=function(O,P){return Object.prototype.hasOwnProperty.call(O,P)}}(),function(){K.r=function(O){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(O,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(O,"__esModule",{value:!0})}}();var It={};return function(){"use strict";K.r(It),K.d(It,{AppEvents:function(){return b},AppNamespace:function(){return Gn},BuiltInPowerupCodes:function(){return Rt},Card:function(){return Et},CardNamespace:function(){return Bn},ComponentFocusableItemType:function(){return Yr},DEPRECATED_RICH_TEXT_ELEMENT_TYPES:function(){return Le},DEPRECATED_RICH_TEXT_ELEMENT_TYPES_TO_NEW_FORMATTING:function(){return Sa},DEPRECATED_RICH_TEXT_FORMATTING_TYPES:function(){return xa},DateNamespace:function(){return jn},EditorEvents:function(){return M},EditorNamespace:function(){return Hn},EmbedComponentType:function(){return ke},EventNamespace:function(){return ir},FocusEvents:function(){return Mt},FocusNamespace:function(){return Un},FocusPropsType:function(){return ei},GlobalEvent:function(){return ge},LoadingSpinner:function(){return Fs},MessagingEvents:function(){return B},MessagingNamespace:function(){return $n},MoveUnit:function(){return ii},PORTAL_TYPE:function(){return ri},PluginAccessScopeType:function(){return Je},PluginActionPermissionLevel:function(){return Zn},PowerupEvent:function(){return _},PowerupNamespace:function(){return qn},PowerupSlotCodeMap:function(){return Lt},PreviewRemCards:function(){return Vs},Queue:function(){return Ls},QueueEvent:function(){return G},QueueInteractionScore:function(){return ti},REM_TYPE:function(){return ni},RICH_TEXT_ELEMENT_TYPE:function(){return Pa},RICH_TEXT_FORMATTING:function(){return Ue},RNPlugin:function(){return ar},ReactRNPlugin:function(){return Sn},Rem:function(){return We},RemColor:function(){return cn},RemEvent:function(){return j},RemHierarchyEditorTree:function(){return ks},RemNamespace:function(){return kn},RemRichTextEditor:function(){return Ms},RemType:function(){return Jr},RemViewer:function(){return Is},RichText:function(){return Ns},RichTextEditor:function(){return Ds},RichTextNamespace:function(){return Qn},SearchNamespace:function(){return Kn},SelectionType:function(){return ln},SetRemType:function(){return Kr},SettingEvents:function(){return w},SettingsNamespace:function(){return Yn},SidebarEvents:function(){return x},StorageEvents:function(){return A},StorageNamespace:function(){return er},WidgetEvents:function(){return H},WidgetLocation:function(){return Qr},WidgetNamespace:function(){return tr},WindowEvents:function(){return Me},WindowNamespace:function(){return nr},createReactiveApi:function(){return Zr},declareIndexPlugin:function(){return zl},filterAsync:function(){return ec},isAppEvent:function(){return ve},makeNamespacedCall:function(){return zn},parseManifest:function(){return id},renderWidget:function(){return js},richTextFormatNameCodeMap:function(){return Xr},useAPIEventListener:function(){return Fr},useGetRemsByIdsReactive:function(){return Xl},useLocalStorageState:function(){return Kl},useOnMessageBroadcast:function(){return jl},usePlugin:function(){return Xe},useRunAsync:function(){return Yl},useSessionStorageState:function(){return Ql},useSyncedStorageState:function(){return Jl},useTracker:function(){return uc}});var O={};K.r(O),K.d(O,{VERSION:function(){return vi},after:function(){return Vu},all:function(){return ms},allKeys:function(){return zt},any:function(){return gs},assign:function(){return vn},before:function(){return as},bind:function(){return is},bindAll:function(){return Du},chain:function(){return Cu},chunk:function(){return dl},clone:function(){return fu},collect:function(){return ct},compact:function(){return rl},compose:function(){return Fu},constant:function(){return ki},contains:function(){return Ge},countBy:function(){return Ku},create:function(){return du},debounce:function(){return ku},default:function(){return fl},defaults:function(){return Xi},defer:function(){return Iu},delay:function(){return ss},detect:function(){return Tr},difference:function(){return Rs},drop:function(){return wn},each:function(){return qe},escape:function(){return yu},every:function(){return ms},extend:function(){return Gi},extendOwn:function(){return vn},filter:function(){return Tt},find:function(){return Tr},findIndex:function(){return br},findKey:function(){return os},findLastIndex:function(){return ls},findWhere:function(){return zu},first:function(){return Cr},flatten:function(){return il},foldl:function(){return Or},foldr:function(){return ps},forEach:function(){return qe},functions:function(){return gr},get:function(){return Ji},groupBy:function(){return Xu},has:function(){return pu},head:function(){return Cr},identity:function(){return _r},include:function(){return Ge},includes:function(){return Ge},indexBy:function(){return Qu},indexOf:function(){return fs},initial:function(){return Es},inject:function(){return Or},intersection:function(){return ol},invert:function(){return qi},invoke:function(){return Wu},isArguments:function(){return dr},isArray:function(){return ut},isArrayBuffer:function(){return Ci},isBoolean:function(){return Ti},isDataView:function(){return mn},isDate:function(){return Ho},isElement:function(){return Wo},isEmpty:function(){return tu},isEqual:function(){return nu},isError:function(){return $o},isFinite:function(){return Qo},isFunction:function(){return ye},isMap:function(){return su},isMatch:function(){return Zi},isNaN:function(){return Mi},isNull:function(){return jo},isNumber:function(){return Oi},isObject:function(){return ot},isRegExp:function(){return Uo},isSet:function(){return ou},isString:function(){return ur},isSymbol:function(){return Ai},isTypedArray:function(){return Vi},isUndefined:function(){return bi},isWeakMap:function(){return au},isWeakSet:function(){return uu},iteratee:function(){return Er},keys:function(){return ue},last:function(){return nl},lastIndexOf:function(){return Zu},map:function(){return ct},mapObject:function(){return mu},matcher:function(){return Wt},matches:function(){return Wt},max:function(){return vs},memoize:function(){return Nu},methods:function(){return gr},min:function(){return Uu},mixin:function(){return Ps},negate:function(){return Sr},noop:function(){return es},now:function(){return Ut},object:function(){return ll},omit:function(){return tl},once:function(){return Bu},pairs:function(){return lu},partial:function(){return yn},partition:function(){return Ju},pick:function(){return ws},pluck:function(){return Ar},property:function(){return wr},propertyOf:function(){return gu},random:function(){return Rr},range:function(){return cl},reduce:function(){return Or},reduceRight:function(){return ps},reject:function(){return ju},rest:function(){return wn},restArguments:function(){return Ee},result:function(){return Tu},sample:function(){return _s},select:function(){return Tt},shuffle:function(){return qu},size:function(){return Yu},some:function(){return gs},sortBy:function(){return Gu},sortedIndex:function(){return cs},tail:function(){return wn},take:function(){return Cr},tap:function(){return hu},template:function(){return bu},templateSettings:function(){return Eu},throttle:function(){return Mu},times:function(){return vu},toArray:function(){return ys},toPath:function(){return Ki},transpose:function(){return Nr},unescape:function(){return wu},union:function(){return al},uniq:function(){return Dr},unique:function(){return Dr},uniqueId:function(){return Au},unzip:function(){return Nr},values:function(){return bt},where:function(){return Hu},without:function(){return sl},wrap:function(){return Lu},zip:function(){return ul}});var P=Object.defineProperty,C=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,xe=a((e,t,n)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"__defNormalProp"),m=a((e,t)=>{for(var n in t||(t={}))ee.call(t,n)&&xe(e,n,t[n]);if(C)for(var n of C(t))oe.call(t,n)&&xe(e,n,t[n]);return e},"__spreadValues");const ge={GlobalOpenRem:"global.open-rem",URLChange:"global.url-change"},G={QueueCompleteCard:"queue.complete-card",QueueEnter:"queue.enter",QueueExit:"queue.exit",RevealAnswer:"queue.reveal-answer"},M={EditorSelectionChanged:"editor.selection-changed",EditorTextEdited:"editor.text-edited"},j={RemChanged:"rem.changed",GlobalRemChanged:"global.rem.changed"},_={PowerupSlotChanged:"powerup.slot.changed",ClickRemReference:"powerup.click-rem-reference",MouseOverLink:"powerup.mouse-enter-link",MouseOutLink:"powerup.mouse-out-link"},x={ClickSidebarItem:"sidebar.click-item"},B={MessageBroadcast:"messaging.broadcast"},w={SettingChanged:"setting.changed"},A={StorageSessionChange:"storage.session.changed",StorageSyncedChange:"storage.synced.changed",StorageLocalChange:"storage.local.changed"},H={FakeEmbedComponentDimensionChange:"widget.virtual-embed-dimension-change",FakeEmbedDOMEvent:"widget.virtual-embed-dom-event",StealKeyEvent:"widget.steal-key-event"},Me={FocusedPaneChange:"window.focusedPane.changed",CurrentWindowTreeChange:"window.PaneIdWindowTree.changed"},Mt={FocusedRemChange:"window.focusedRem.changed",FocusedPortalChange:"window.focusedPortal.changed"},b=m(m(m(m(m(m(m(m(m(m(m(m({onActivate:"onActivate",onDeactivate:"onDeactivate",setDarkMode:"setDarkMode"},Me),B),x),_),j),ge),G),A),H),M),w),Mt);function ve(e){return Object.values(b).includes(e)}a(ve,"isAppEvent");var je=Object.defineProperty,_t=a((e,t,n)=>t in e?je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"base_defNormalProp"),un=a((e,t,n)=>(_t(e,typeof t!="symbol"?t+"":t,n),n),"__publicField");class te{constructor(t,n){un(this,"_call"),un(this,"call"),this._call=t,this.call=zn(this._call,n)}}a(te,"NamespaceBase");function ce(e){return typeof e=="string"?e:e instanceof We?e._id:e}a(ce,"getRemId");const wt=a(e=>e.map(ce),"getRemIds");var Nn=Object.defineProperty,kt=Object.getOwnPropertySymbols,In=Object.prototype.hasOwnProperty,va=Object.prototype.propertyIsEnumerable,Mn=a((e,t,n)=>t in e?Nn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"rem_defNormalProp"),ya=a((e,t)=>{for(var n in t||(t={}))In.call(t,n)&&Mn(e,n,t[n]);if(kt)for(var n of kt(t))va.call(t,n)&&Mn(e,n,t[n]);return e},"rem_spreadValues"),d=a((e,t,n)=>(Mn(e,typeof t!="symbol"?t+"":t,n),n),"rem_publicField"),f=a((e,t,n)=>new Promise((r,i)=>{var s=a(l=>{try{u(n.next(l))}catch(c){i(c)}},"fulfilled"),o=a(l=>{try{u(n.throw(l))}catch(c){i(c)}},"rejected"),u=a(l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o),"step");u((n=n.apply(e,t)).next())}),"__async");class We{constructor(t,n){d(this,"_id"),d(this,"localUpdatedAt"),d(this,"updatedAt"),d(this,"parent"),d(this,"children"),d(this,"type"),d(this,"text"),d(this,"backText"),d(this,"_callMethod"),d(this,"call",(r,i)=>f(this,null,function*(){return yield this._callMethod(r,ya({remId:this._id},i),Ln)})),d(this,"callAndReturnRem",(r,i)=>f(this,null,function*(){const s=yield this.call(r,i);if(s)return new We(s,this._callMethod.bind(this))})),d(this,"callAndReturnManyRem",(r,i)=>f(this,null,function*(){const s=yield this.call(r,i);return s?s.map(o=>new We(o,this._callMethod.bind(this))):[]})),d(this,"positionAmongstSiblings",r=>f(this,null,function*(){return this.call("positionAmongstSiblings",{portalId:r})})),d(this,"positionAmongstVisibleSiblings",r=>f(this,null,function*(){return this.call("positionAmongstVisibleSiblings",{portalId:r})})),d(this,"hasPowerup",r=>f(this,null,function*(){return yield this.call("hasPowerup",{powerupCode:r})})),d(this,"getHiddenExplicitlyIncludedState",r=>f(this,null,function*(){return yield this.call("getHiddenExplicitlyIncludedState",{portalId:r})})),d(this,"setHiddenExplicitlyIncludedState",(r,i)=>f(this,null,function*(){return yield this.call("setHiddenExplicitlyIncludedState",{hiddenExplicitlyIncludedState:r,portalId:i})})),d(this,"getLastPracticed",()=>f(this,null,function*(){return yield this.call("getLastPracticed",{})})),d(this,"addPowerup",r=>f(this,null,function*(){return yield this.call("addPowerup",{powerupCode:r})})),d(this,"getLastTimeMovedTo",()=>f(this,null,function*(){return yield this.call("getLastTimeMovedTo",{})})),d(this,"getSchemaVersion",()=>f(this,null,function*(){return yield this.call("getSchemaVersion",{})})),d(this,"embeddedQueueViewMode",()=>f(this,null,function*(){return yield this.call("embeddedQueueViewMode",{})})),d(this,"isCollapsed",r=>f(this,null,function*(){return yield this.call("isCollapsed",{portalId:r})})),d(this,"setIsCollapsed",(r,i)=>f(this,null,function*(){return yield this.call("setIsCollapsed",{isCollapsed:r,portalId:i})})),d(this,"timesSelectedInSearch",()=>f(this,null,function*(){return yield this.call("timesSelectedInSearch",{})})),d(this,"getPortalType",()=>f(this,null,function*(){return yield this.call("getPortalType",{})})),d(this,"getPortalDirectlyIncludedRem",()=>f(this,null,function*(){return yield this.call("getPortalDirectlyIncludedRem",{})})),d(this,"getType",()=>f(this,null,function*(){return yield this.call("getType",{})})),d(this,"setPowerupProperty",(r,i,s)=>f(this,null,function*(){const o=Object.values(Rt).includes(r)?Lt[r][i]:i;return yield this.call("setPowerupProperty",{powerupCode:r,powerupSlot:o,value:s})})),d(this,"getPowerupProperty",(r,i)=>f(this,null,function*(){const s=Object.values(Rt).includes(r)?Lt[r][i]:i;return yield this.call("getPowerupProperty",{powerupCode:r,powerupSlot:s})})),d(this,"getPowerupPropertyAsRichText",(r,i)=>f(this,null,function*(){const s=Object.values(Rt).includes(r)?Lt[r][i]:i;return yield this.call("getPowerupPropertyAsRichText",{powerupCode:r,powerupSlot:s})})),d(this,"setText",r=>f(this,null,function*(){return yield this.call("setText",{text:r})})),d(this,"setBackText",r=>f(this,null,function*(){return yield this.call("setBackText",{backText:r})})),d(this,"removeTag",(r,i=!1)=>f(this,null,function*(){return yield this.call(i?"removeTagAndSlots":"removeTag",{tagId:r})})),d(this,"removePowerup",r=>f(this,null,function*(){return yield this.call("removePowerup",{powerupCode:r})})),d(this,"addTag",r=>f(this,null,function*(){const i=ce(r);return yield this.call("addTag",{tagId:i})})),d(this,"remove",()=>f(this,null,function*(){return yield this.call("remove",{})})),d(this,"getTagRems",()=>f(this,null,function*(){return this.callAndReturnManyRem("getTagRems",{})})),d(this,"addToPortal",r=>f(this,null,function*(){const i=ce(r);return yield this.call("addToPortal",{portalId:i})})),d(this,"removeFromPortal",r=>f(this,null,function*(){const i=ce(r);return yield this.call("removeFromPortal",{portalId:i})})),d(this,"setParent",(r,i)=>f(this,null,function*(){const s=ce(r);return yield this.call("setParent",{parentId:s,positionAmongstSiblings:i})})),d(this,"getOrCreateAliasWithText",r=>f(this,null,function*(){return yield this.callAndReturnRem("getOrCreateAliasWithText",{aliasText:r})})),d(this,"getChildrenRem",()=>f(this,null,function*(){return yield this.callAndReturnManyRem("getChildrenRem")})),d(this,"allRemInDocumentOrPortal",()=>f(this,null,function*(){return yield this.callAndReturnManyRem("allRemInDocumentOrPortal")})),d(this,"expand",(r,i)=>f(this,null,function*(){const s=ce(r);return yield this.call("expand",{portalId:s,recurse:i})})),d(this,"collapse",r=>f(this,null,function*(){const i=ce(r);return yield this.call("collapse",{portalId:i})})),d(this,"siblingRem",()=>f(this,null,function*(){return yield this.callAndReturnManyRem("siblingRem")})),d(this,"visibleSiblingRem",r=>f(this,null,function*(){return yield this.callAndReturnManyRem("visibleSiblingRem",{portalId:r})})),d(this,"taggedRem",()=>f(this,null,function*(){return yield this.callAndReturnManyRem("taggedRem")})),d(this,"ancestorTagRem",()=>f(this,null,function*(){return yield this.callAndReturnManyRem("ancestorTagRem")})),d(this,"descendantTagRem",()=>f(this,null,function*(){return yield this.callAndReturnManyRem("descendantTagRem")})),d(this,"getDescendants",()=>f(this,null,function*(){return yield this.callAndReturnManyRem("getDescendants")})),d(this,"getCards",()=>f(this,null,function*(){const r=yield this.call("getCards");return(r==null?void 0:r.map(i=>new Et(i,this._callMethod)))||[]})),d(this,"getAliases",()=>f(this,null,function*(){return yield this.callAndReturnManyRem("getAliases")})),d(this,"getParentRem",()=>f(this,null,function*(){return yield this.callAndReturnRem("getParentRem")})),d(this,"portalsAndDocumentsIn",()=>f(this,null,function*(){return yield this.callAndReturnManyRem("portalsAndDocumentsIn")})),d(this,"merge",r=>f(this,null,function*(){return yield this.call("merge",{remIdToMergeIntoThisOne:r})})),d(this,"mergeAndSetAlias",r=>f(this,null,function*(){const i=ce(r);return yield this.call("mergeAndSetAlias",{remIdToMergeIntoThisOne:i})})),d(this,"indent",r=>f(this,null,function*(){const i=ce(r);return yield this.call("indent",{portalId:i})})),d(this,"outdent",r=>f(this,null,function*(){const i=ce(r);return yield this.call("outdent",{portalId:i})})),d(this,"setType",r=>f(this,null,function*(){return yield this.call("setType",{type:r})})),d(this,"remsReferencingThis",()=>f(this,null,function*(){return yield this.callAndReturnManyRem("remsReferencingThis")})),d(this,"remsBeingReferenced",()=>f(this,null,function*(){return yield this.callAndReturnManyRem("remsBeingReferenced")})),d(this,"deepRemsBeingReferenced",()=>f(this,null,function*(){return yield this.callAndReturnManyRem("deepRemsBeingReferenced")})),d(this,"getSources",()=>f(this,null,function*(){return yield this.callAndReturnManyRem("getSources")})),d(this,"addSource",r=>f(this,null,function*(){const i=ce(r);return yield this.call("addSource",{sourceId:i})})),d(this,"removeSource",r=>f(this,null,function*(){const i=ce(r);return yield this.call("removeSource",{sourceId:i})})),d(this,"isDocument",()=>f(this,null,function*(){return yield this.call("isDocument")})),d(this,"setIsDocument",r=>f(this,null,function*(){return yield this.call("setIsDocument",{isDocument:r})})),d(this,"isListItem",()=>f(this,null,function*(){return yield this.call("isListItem")})),d(this,"setIsListItem",r=>f(this,null,function*(){return yield this.call("setIsListItem",{isListItem:r})})),d(this,"isCardItem",()=>f(this,null,function*(){return yield this.call("isMultilineCard")})),d(this,"setIsCardItem",r=>f(this,null,function*(){return yield this.call("setIsMultilineCard",{isCardItem:r})})),d(this,"isTodo",()=>f(this,null,function*(){return yield this.call("isTodo")})),d(this,"setIsTodo",r=>f(this,null,function*(){yield this.call("setIsTodo",{isTodo:r})})),d(this,"getTodoStatus",()=>f(this,null,function*(){return yield this.call("getTodoStatus")})),d(this,"setTodoStatus",r=>f(this,null,function*(){return yield this.call("setTodoStatus",{todoStatus:r})})),d(this,"getFontSize",()=>f(this,null,function*(){return yield this.call("getFontSize")})),d(this,"setFontSize",r=>f(this,null,function*(){return yield this.call("setFontSize",{fontSize:r})})),d(this,"getHighlightColor",()=>f(this,null,function*(){return yield this.call("getHighlightColor")})),d(this,"setHighlightColor",r=>f(this,null,function*(){return yield this.call("setHighlightColor",{highlightColor:r})})),d(this,"isPowerup",()=>f(this,null,function*(){return yield this.call("isPowerup")})),d(this,"isPowerupEnum",()=>f(this,null,function*(){return yield this.call("isPowerupEnum")})),d(this,"isPowerupPropertyListItem",()=>f(this,null,function*(){return yield this.call("isPowerupPropertyListItem")})),d(this,"isPowerupSlot",()=>f(this,null,function*(){return yield this.call("isPowerupSlot")})),d(this,"isPowerupProperty",()=>f(this,null,function*(){return yield this.call("isPowerupProperty")})),d(this,"isSlot",()=>f(this,null,function*(){return yield this.call("isSlot")})),d(this,"setIsSlot",r=>f(this,null,function*(){return yield this.call("setIsSlot",{isSlot:r})})),d(this,"openRemInContext",()=>f(this,null,function*(){yield this.call("openRemInContext")})),d(this,"openRemAsPage",()=>f(this,null,function*(){yield this.call("openRemAsPage")})),d(this,"getEnablePractice",()=>f(this,null,function*(){return yield this.call("getEnablePractice")})),d(this,"getPracticeDirection",()=>f(this,null,function*(){return yield this.call("getPracticeDirection")})),d(this,"setEnablePractice",r=>f(this,null,function*(){return yield this.call("setEnablePractice",{enablePractice:r})})),d(this,"setPracticeDirection",r=>f(this,null,function*(){return yield this.call("setPracticeDirection",{direction:r})})),d(this,"copyPortalReferenceToClipboard",()=>f(this,null,function*(){return yield this.call("copyPortalReferenceToClipboard")})),d(this,"copyTagReferenceToClipboard",()=>f(this,null,function*(){return yield this.call("copyTagReferenceToClipboard")})),d(this,"copyReferenceToClipboard",()=>f(this,null,function*(){return yield this.call("copyReferenceToClipboard")})),this._id=t._id,this.parent=t.parent,this.children=t.children,this.type=t.type,this.text=t.text,this.backText=t.backText,this.updatedAt=t.u,this.localUpdatedAt=t.o,this._callMethod=n}}a(We,"Rem");class kn{constructor(t){d(this,"_call"),d(this,"call"),d(this,"findOne",n=>f(this,null,function*(){if(!n)return;const r=yield this.call("findOne",{remId:n});if(r)return new we(r,this.call)})),d(this,"createWithMarkdown",n=>f(this,null,function*(){const r=yield this.call("createWithMarkdown",{markdown:n});if(r)return new we(r,this.call)})),d(this,"findByName",(n,r)=>f(this,null,function*(){const i=yield this.call("findByName",{name:n,parentId:r});if(i)return new we(i,this.call)})),d(this,"moveRems",(n,r,i,s)=>f(this,null,function*(){const o=wt(n),u=ce(r),l=ce(s);yield this.call("moveRems",{portalId:l,remIds:o,newParentId:u,positionAmongstSiblings:i})})),d(this,"getAll",()=>f(this,null,function*(){return((yield this.call("getAll",{}))||[]).map(r=>new we(r,this._call))})),d(this,"findMany",n=>f(this,null,function*(){const r=wt(n),i=yield this.call("findMany",{remIds:r});if(i)return i.map(s=>new we(s,this._call))})),d(this,"createPortal",()=>f(this,null,function*(){const n=yield this.call("createPortal",{});return n?new we(n,this._call):void 0})),d(this,"createRem",()=>f(this,null,function*(){const n=yield this.call("createRem",{});if(n)return new we(n,this._call)})),this._call=t,this.call=zn(this._call,Ln)}}a(kn,"RemNamespace");const we=We,Ln="rem";var _a=Object.defineProperty,qr=Object.getOwnPropertySymbols,wa=Object.prototype.hasOwnProperty,Ea=Object.prototype.propertyIsEnumerable,Fn=a((e,t,n)=>t in e?_a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"card_defNormalProp"),Gr=a((e,t)=>{for(var n in t||(t={}))wa.call(t,n)&&Fn(e,n,t[n]);if(qr)for(var n of qr(t))Ea.call(t,n)&&Fn(e,n,t[n]);return e},"card_spreadValues"),de=a((e,t,n)=>(Fn(e,typeof t!="symbol"?t+"":t,n),n),"card_publicField"),He=a((e,t,n)=>new Promise((r,i)=>{var s=a(l=>{try{u(n.next(l))}catch(c){i(c)}},"fulfilled"),o=a(l=>{try{u(n.throw(l))}catch(c){i(c)}},"rejected"),u=a(l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o),"step");u((n=n.apply(e,t)).next())}),"card_async");const Vn="card";class Bn extends te{constructor(t){super(t,Vn),de(this,"findOne",n=>He(this,null,function*(){if(!n)return;const r=yield this.call("findOne",{id:n});return r?new Et(r,this._call):void 0})),de(this,"getAll",()=>He(this,null,function*(){const n=yield this.call("getAll",{});return(n==null?void 0:n.map(r=>new Et(r,this._call)))||[]})),de(this,"findMany",n=>He(this,null,function*(){const r=yield this.call("findMany",{ids:n});return(r==null?void 0:r.map(i=>new Et(i,this._call)))||[]}))}}a(Bn,"CardNamespace");class Et extends te{constructor(t,n){super(n,Vn),de(this,"_id"),de(this,"remId"),de(this,"type"),de(this,"createdAt"),de(this,"repetitionHistory"),de(this,"nextRepetitionTime"),de(this,"timesWrongInRow"),de(this,"lastRepetitionTime"),de(this,"callCard",(i,s)=>He(this,null,function*(){return yield this._call(i,Gr({id:this._id},s),Vn)})),de(this,"callRem",(i,s)=>He(this,null,function*(){return yield this._call(i,Gr({},s),Ln)})),de(this,"getType",()=>He(this,null,function*(){return yield this.callCard("getType",{id:this._id})})),de(this,"getRem",()=>He(this,null,function*(){return yield this.callRem("findOne",{remId:this.remId})})),de(this,"remove",()=>He(this,null,function*(){return yield this.callCard("remove",{})})),de(this,"updateCardRepetitionStatus",i=>He(this,null,function*(){return yield this.callCard("updateCardRepetitionStatus",{score:i})})),this._id=t._id,this.remId=t.remId;const r=t.cardType;this.type=r==="f"?"forward":r==="b"?"backward":{clozeId:r},this.createdAt=t.createdAt,this.repetitionHistory=t.history,this.nextRepetitionTime=t.activeNextTime,this.timesWrongInRow=t.timesWrongInRow}}a(Et,"Card");var ln=(e=>(e.Rem="Rem",e.Text="Text",e))(ln||{});const Xr={quote:"q",underline:"u",bold:"b",italic:"l"};var cn=(e=>(e[e.Red=1]="Red",e[e.Orange=2]="Orange",e[e.Yellow=3]="Yellow",e[e.Green=4]="Green",e[e.Blue=6]="Blue",e[e.Purple=5]="Purple",e[e.undefined=e.undefined]="undefined",e))(cn||{}),Zn=(e=>(e.Read="Read",e.ReadCreate="ReadCreate",e.ReadCreateModify="ReadCreateModify",e.ReadCreateModifyDelete="ReadCreateModifyDelete",e))(Zn||{}),Je=(e=>(e.All="All",e.DescendantsOfName="DescendantsOfName",e.DescendantsOfId="DescendantsOfId",e.Powerup="Powerup",e.FocusedSubtree="FocusedSubtree",e))(Je||{}),Qr=(e=>(e.FloatingWidget="FloatingWidget",e.PaneHeader="PaneHeader",e.Index="Index",e.TopBar="TopBar",e.QueueToolbar="QueueToolbar",e.DocumentAboveToolbar="AboveDocumentToolbar",e.DocumentBelowToolbar="DocumentBelowToolbar",e.DocumentBelowEditor="DocumentBelowEditor",e.DocumentBelowTitle="DocumentBelowTitle",e.SidebarEnd="SidebarEnd",e.RemReferencePopupStart="RemReferencePopupStart",e.RemReferencePopupRight="RemReferencePopupRight",e.Pane="Pane",e.FlashcardAnswer="FlashcardAnswer",e.Flashcard="Flashcard",e.FlashcardExtraDetail="FlashcardExtraDetail",e.RightSidebar="RightSidebar",e.LeftSidebar="LeftSidebar",e.Popup="Popup",e.UnderRemEditor="UnderRemEditor",e.RightSideOfEditor="RightSideOfEditor",e.SelectedTextMenu="SelectedTextMenu",e))(Qr||{}),Rt=(e=>(e.Aliases="l",e.AutoSort="a",e.AutoTemplate="m",e.CustomCSS="c",e.DailyDocument="d",e.DisableCards="u",e.Document="o",e.DocumentSidebar="s",e.EditLater="e",e.Emoji="j",e.ExtraCardDetail="x",e.Header="r",e.Highlight="h",e.Link="b",e.List="i",e.MultiLineCard="w",e.PDFHighlight="n",e.QuickAdd="q",e.Slot="y",e.Sources="os",e.SuperPrivate="k",e.Tag="g",e.Todo="t",e.UploadedFile="f",e.WebHighlight="p",e.Website="z",e))(Rt||{});const Lt={l:{Aliases:"a"},a:{SortDirection:"d"},m:{},c:{},d:{Timestamp:"s",Date:"d"},u:{},o:{Status:"s",DeprecatedSource:"o"},s:{},e:{Message:"m"},j:{},x:{},r:{Size:"s"},h:{Color:"c"},b:{URL:"u",Title:"t"},i:{},w:{},n:{Data:"d",PdfId:"p"},q:{},y:{},os:{Sources:"os"},k:{},g:{},t:{Status:"s"},f:{Type:"t",URL:"u",Name:"n",Authors:"a",Keywords:"k",Title:"i",ViewerData:"v"},p:{Data:"d",Url:"w"},z:{Hostname:"u"}};var Kr=(e=>(e[e.DEFAULT_TYPE=void 0]="DEFAULT_TYPE",e[e.CONCEPT=1]="CONCEPT",e[e.DESCRIPTOR=2]="DESCRIPTOR",e))(Kr||{}),Jr=(e=>(e[e.DEFAULT_TYPE=void 0]="DEFAULT_TYPE",e[e.CONCEPT=1]="CONCEPT",e[e.DESCRIPTOR=2]="DESCRIPTOR",e[e.PORTAL=6]="PORTAL",e))(Jr||{}),Yr=(e=>(e.MultipleWindows="multipleWindows",e.MultipleWindowsPanel="multipleWindowsPanel",e.FloatingDiscussion="floatingDiscussion",e.WindowManager="windowManager",e.WindowPane="windowPane",e.Document="document",e.NotificationPanel="notificationPanel",e.HierarchyEditorTree="hierarchyEditorTree",e.HierarchyEditorTreePortal="hierarchyEditorTreePortal",e.HierarchyEditorTreeRem="hierarchyEditorTreeRem",e.RichTextEditor="richTextEditor",e.RichTextEditorItem="richTextEditorItem",e.RichTextEditorAliasPopup="richTextEditorAliasPopup",e.Popup="popup",e.Omnibar="omnibar",e.QuickAdd="quickAdd",e.Date="date",e.Queue="queue",e.QueryBuilder="queryBuilder",e.PublishedKnowledgeBase="publishedKnowledgeBase",e.ArticleViewer="articleViewer",e.Article="article",e.FullPageSearch="fullPageSearch",e.ExtraDate="extraDate",e.DropToOpenAsDocument="dropToOpenAsDocument",e.PDF="pdf",e.PdfPageNumber="pdfPageNumber",e.RemSearchPopup="remSearchPopup",e.Debugger="debugger",e.SelectRem="selectRem",e.HiddenChildren="hiddenChildren",e.TableTitle="tableTitle",e.TableColumnTitle="tableColumnTitle",e.Toolbar="toolbar",e.Title="title",e.PDFUploader="pdfUploader",e.UserDocument="userDocument",e.ArticleQueue="articleQueue",e.DocumentSidebar="documentSidebar",e.PluginSidebar="pluginSidebar",e.Documents="documents",e.AudioVideo="audioVideo",e.ImageNode="imageNode",e.QueryNodeEditor="queryNodeEditor",e.LinkBox="linkBox",e.SelectedTextMenu="selectedTextMenu",e.RemReferenceNode="remReferenceNode",e.DocSources="docSources",e.AddSources="addSources",e.InlineLink="inlineLink",e.ImageSelector="imageSelector",e.Latex="latex",e.Image="image",e.Cloze="cloze",e.Alias="alias",e.QueueFolderDropdownSelector="queueFolderDropdownSelector",e.CustomEditLaterMessage="customEditLaterMessage",e.DocumentParents="documentParents",e.AreaHighlight="areaHighlight",e.WindowOne="windowOne",e.WindowTwo="windowTwo",e.Replace="replace",e.Find="find",e.Tag="tag",e.TagBar="tagBar",e.Menu="menu",e.Screenshot="screenshot",e.HelpMessage="helpMessage",e.AddNode="addNode",e.EditEdge="editEdge",e.Controls="controls",e.DocumentSource="documentSource",e.Merge="merge",e.HierarchyEditorTemplateFields="hierarchyEditorTemplateFields",e.SearchExistingTable="searchExistingTable",e.PluginRemRichTextEditor="pluginRemRichTextEditor",e.PluginRichTextViewer="pluginRichTextViewer",e.RemHierarchyEditorTree="remHierarchyEditorTree",e.PluginQueue="pluginQueue",e.RichTextEditorFakeEmbed="richTextEditorFakeEmbed",e.DocumentHeader="documentHeader",e.Key="key",e.Value="value",e.CtrlF="ctrlF",e.CtrlFFind="ctrlFind",e.CtrlFReplace="ctrlReplace",e.CtrlFFilter="ctrlFilter",e.SearchResult="searchResult",e.SearchResultItem="searchResultItem",e.FocusableInput="focusableInput",e))(Yr||{}),ei=(e=>(e.Text="text",e.SelectedRange="selectedRange",e))(ei||{}),Ra=(e=>(e.Global="global",e.RemFocused="rem-focused",e.RemSelected="rem-selected",e))(Ra||{}),ti=(e=>(e[e.TOO_EARLY=.01]="TOO_EARLY",e[e.AGAIN=0]="AGAIN",e[e.HARD=.5]="HARD",e[e.GOOD=1]="GOOD",e[e.EASY=1.5]="EASY",e))(ti||{});function zn(e,t){return(n,r)=>e(n,r,t)}a(zn,"makeNamespacedCall");var ke=(e=>(e.Queue="Queue",e.PreviewRemCards="ViewAsCard",e.LoadingSpinner="LoadingSpinner",e.RichTextEditor="RichTextEditor",e.RichText="RichTextViewer",e.RemRichTextEditor="RemRichTextEditor",e.RemViewer="RemViewer",e.RemHierarchyEditorTree="RemHierarchyEditorTree",e))(ke||{});const Pa={REM:"q",IMAGE:"i",AUDIO:"a",PLUGIN:"p",DRAWING:"r",GLOBAL_NAME:"g",DEPRECATED_CODE:"o",ANNOTATION:"n",TEXT:"m",LATEX:"x",CARD_DELIMITER:"s"},Ue={CLOZE:"cId",UNDERLINE:"u",BOLD:"b",ITALIC:"l",INLINE_LINK:"qId",QUOTE:"q",HIDDEN_CLOZE:"hiddenCloze",REVEALED_CLOZE:"revealedCloze",HIGHLIGHT:"h",DEPRECATED_LINK:"url",CODE:"code",CODE_LANGUAGE:"language",COMMENT_ID:"c"},Le={UNDERLINE:"u",BOLD:"b",ITALIC:"t",QUOTE:"c",CLOZE:"e",HIDDEN_CLOZE:"z",LINK:"l",HIGHLIGHT:"h",DATE:"d"},xa={LATEX:"x"},Sa={[Le.UNDERLINE]:Ue.UNDERLINE,[Le.BOLD]:Ue.BOLD,[Le.ITALIC]:Ue.ITALIC,[Le.QUOTE]:Ue.QUOTE,[Le.CLOZE]:Ue.CLOZE,[Le.HIDDEN_CLOZE]:Ue.HIDDEN_CLOZE,[Le.LINK]:Ue.DEPRECATED_LINK,[Le.HIGHLIGHT]:Ue.HIGHLIGHT,[Le.DATE]:!0};var ni=(e=>(e[e.DEFAULT_TYPE=void 0]="DEFAULT_TYPE",e[e.CONCEPT=1]="CONCEPT",e[e.DESCRIPTOR=2]="DESCRIPTOR",e[e.DEPRECATED_BASIC_CARD=4]="DEPRECATED_BASIC_CARD",e[e.PORTAL=6]="PORTAL",e[e.DEPRECATED_SLOT=3]="DEPRECATED_SLOT",e[e.DEPRECATED_PATTERN=5]="DEPRECATED_PATTERN",e[e.DEPRECATED_COLLECTION=7]="DEPRECATED_COLLECTION",e[e.DEPRECATED_TEXT=8]="DEPRECATED_TEXT",e))(ni||{}),ri=(e=>(e[e.PORTAL=void 0]="PORTAL",e[e.EMBEDDED_QUEUE=2]="EMBEDDED_QUEUE",e[e.SCAFFOLD=3]="SCAFFOLD",e[e.SEARCH_PORTAL=4]="SEARCH_PORTAL",e))(ri||{}),ii=(e=>(e[e.OFFSET=0]="OFFSET",e[e.UNIT=1]="UNIT",e[e.CHARACTER=2]="CHARACTER",e[e.WORD=3]="WORD",e[e.WORD_START=4]="WORD_START",e[e.WORD_END=5]="WORD_END",e[e.LINE=6]="LINE",e))(ii||{}),ba=K(92),si=K.n(ba),Ta=Object.defineProperty,Oa=a((e,t,n)=>t in e?Ta(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"date_defNormalProp"),ai=a((e,t,n)=>(Oa(e,typeof t!="symbol"?t+"":t,n),n),"date_publicField"),oi=a((e,t,n)=>new Promise((r,i)=>{var s=a(l=>{try{u(n.next(l))}catch(c){i(c)}},"fulfilled"),o=a(l=>{try{u(n.throw(l))}catch(c){i(c)}},"rejected"),u=a(l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o),"step");u((n=n.apply(e,t)).next())}),"date_async");const Aa="date";class jn extends te{constructor(t){super(t,Aa),ai(this,"getDailyDoc",n=>oi(this,null,function*(){const r=yield this.call("getDailyDoc",{date:n});if(r)return new we(r,this._call)})),ai(this,"getTodaysDoc",()=>oi(this,null,function*(){const n=yield this.call("getTodaysDoc",{});if(n)return new we(n,this._call)}))}}a(jn,"DateNamespace");var Ca=Object.defineProperty,ui=Object.getOwnPropertySymbols,Da=Object.prototype.hasOwnProperty,Na=Object.prototype.propertyIsEnumerable,Wn=a((e,t,n)=>t in e?Ca(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"editor_defNormalProp"),Ia=a((e,t)=>{for(var n in t||(t={}))Da.call(t,n)&&Wn(e,n,t[n]);if(ui)for(var n of ui(t))Na.call(t,n)&&Wn(e,n,t[n]);return e},"editor_spreadValues"),se=a((e,t,n)=>(Wn(e,typeof t!="symbol"?t+"":t,n),n),"editor_publicField"),ae=a((e,t,n)=>new Promise((r,i)=>{var s=a(l=>{try{u(n.next(l))}catch(c){i(c)}},"fulfilled"),o=a(l=>{try{u(n.throw(l))}catch(c){i(c)}},"rejected"),u=a(l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o),"step");u((n=n.apply(e,t)).next())}),"editor_async");const Ma="editor";class Hn extends te{constructor(t){super(t,Ma),se(this,"setText",n=>ae(this,null,function*(){return this.call("setText",{richText:n})})),se(this,"copy",()=>ae(this,null,function*(){return this.call("copy",{})})),se(this,"cut",()=>ae(this,null,function*(){return this.call("cut",{})})),se(this,"deleteCharacters",(n,r)=>ae(this,null,function*(){return this.call("deleteCharacters",{characters:n,direction:r})})),se(this,"delete",()=>ae(this,null,function*(){return this.call("delete",{})})),se(this,"getSelectedRem",()=>ae(this,null,function*(){const n=yield this.getSelection();return n&&n.type===ln.Rem?n:void 0})),se(this,"getSelectedText",()=>ae(this,null,function*(){const n=yield this.getSelection();return n&&n.type===ln.Text?n:void 0})),se(this,"getSelection",()=>ae(this,null,function*(){return this.call("getSelection",{})})),se(this,"selectRem",(n,r)=>ae(this,null,function*(){return this.call("setSelectedLines",{range:n,portalId:r})})),se(this,"selectText",n=>ae(this,null,function*(){return this.call("setSelectedRichText",Ia({},n))})),se(this,"collapseSelection",n=>ae(this,null,function*(){return this.call("collapseSelection",{to:n})})),se(this,"undo",()=>ae(this,null,function*(){return this.call("undo",{})})),se(this,"redo",()=>ae(this,null,function*(){return this.call("redo",{})})),se(this,"moveCaret",(n,r)=>ae(this,null,function*(){return this.call("moveCaret",{amount:n,unit:r})})),se(this,"moveCaretVertical",n=>ae(this,null,function*(){return this.call("moveCaretVertical",{direction:n})})),se(this,"getCaretPosition",()=>ae(this,null,function*(){return this.call("getCaretPosition",{})})),se(this,"insertPlainText",n=>ae(this,null,function*(){return this.call("insertPlainText",{string:n})})),se(this,"insertRichText",n=>ae(this,null,function*(){return this.call("insertRichText",{richText:n})})),se(this,"insertMarkdown",n=>ae(this,null,function*(){return this.call("insertMarkdown",{markdown:n})})),se(this,"getFocusedEditorText",()=>ae(this,null,function*(){return this.call("getFocusedEditorText",{})}))}}a(Hn,"EditorNamespace");var ka=Object.defineProperty,La=a((e,t,n)=>t in e?ka(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"focus_defNormalProp"),li=a((e,t,n)=>(La(e,typeof t!="symbol"?t+"":t,n),n),"focus_publicField"),ci=a((e,t,n)=>new Promise((r,i)=>{var s=a(l=>{try{u(n.next(l))}catch(c){i(c)}},"fulfilled"),o=a(l=>{try{u(n.throw(l))}catch(c){i(c)}},"rejected"),u=a(l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o),"step");u((n=n.apply(e,t)).next())}),"focus_async");const Fa="focus";class Un extends te{constructor(t){super(t,Fa),li(this,"getFocusedRem",()=>ci(this,null,function*(){const n=yield this.call("getFocusedRem",{});return n?new we(n,this._call):void 0})),li(this,"getFocusedPortal",()=>ci(this,null,function*(){const n=yield this.call("getFocusedPortal",{});return n?new we(n,this._call):void 0}))}}a(Un,"FocusNamespace");var Va=Object.defineProperty,Ba=a((e,t,n)=>t in e?Va(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"messaging_defNormalProp"),Za=a((e,t,n)=>(Ba(e,typeof t!="symbol"?t+"":t,n),n),"messaging_publicField"),za=a((e,t,n)=>new Promise((r,i)=>{var s=a(l=>{try{u(n.next(l))}catch(c){i(c)}},"fulfilled"),o=a(l=>{try{u(n.throw(l))}catch(c){i(c)}},"rejected"),u=a(l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o),"step");u((n=n.apply(e,t)).next())}),"messaging_async");const ja="messaging";class $n extends te{constructor(t){super(t,ja),Za(this,"broadcast",n=>za(this,null,function*(){return console.log("Send broadcast"),this.call("broadcast",{message:n})}))}}a($n,"MessagingNamespace");var Wa=Object.defineProperty,Ha=a((e,t,n)=>t in e?Wa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"powerup_defNormalProp"),di=a((e,t,n)=>(Ha(e,typeof t!="symbol"?t+"":t,n),n),"powerup_publicField"),fi=a((e,t,n)=>new Promise((r,i)=>{var s=a(l=>{try{u(n.next(l))}catch(c){i(c)}},"fulfilled"),o=a(l=>{try{u(n.throw(l))}catch(c){i(c)}},"rejected"),u=a(l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o),"step");u((n=n.apply(e,t)).next())}),"powerup_async");const Ua="powerup";class qn extends te{constructor(t){super(t,Ua),di(this,"getPowerupByCode",n=>fi(this,null,function*(){const r=yield this.call("getPowerupByCode",{powerupCode:n});if(r)return new we(r,this._call)})),di(this,"getPowerupSlotByCode",(n,r)=>fi(this,null,function*(){const i=Object.values(Rt).includes(n)?Lt[n][r]:r,s=yield this.call("getPowerupSlotByCode",{powerupCode:n,powerupSlot:i});if(s)return new we(s,this._call)}))}}a(qn,"PowerupNamespace");var $a=Object.defineProperty,hi=Object.getOwnPropertySymbols,qa=Object.prototype.hasOwnProperty,Ga=Object.prototype.propertyIsEnumerable,Xa=a((e,t,n)=>t in e?$a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"app_defNormalProp"),Qa=a((e,t)=>{var n={};for(var r in e)qa.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hi)for(var r of hi(e))t.indexOf(r)<0&&Ga.call(e,r)&&(n[r]=e[r]);return n},"__objRest"),Se=a((e,t,n)=>(Xa(e,typeof t!="symbol"?t+"":t,n),n),"app_publicField"),Oe=a((e,t,n)=>new Promise((r,i)=>{var s=a(l=>{try{u(n.next(l))}catch(c){i(c)}},"fulfilled"),o=a(l=>{try{u(n.throw(l))}catch(c){i(c)}},"rejected"),u=a(l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o),"step");u((n=n.apply(e,t)).next())}),"app_async");const Ka="app";class Gn extends te{constructor(t,n){super(t,Ka),Se(this,"plugin"),Se(this,"registerPowerup",(r,i,s,o)=>Oe(this,null,function*(){yield this._call("registerPowerup",{name:r,code:i,description:s,options:o})})),Se(this,"registerWidget",(r,i,s)=>Oe(this,null,function*(){yield this._call("registerWidget",{fileName:r,location:i,options:s})})),Se(this,"unregisterWidget",(r,i)=>Oe(this,null,function*(){yield this._call("unregisterWidget",{fileName:r,location:i})})),Se(this,"registerCommand",r=>Oe(this,null,function*(){const i=r,{action:s}=i,o=Qa(i,["action"]),u=r.id;this.plugin.model[u]=s,yield this._call("registerCommand",o)})),Se(this,"registerSidebarButton",r=>Oe(this,null,function*(){const{id:i,name:s,action:o}=r;this.plugin.model[i]=o,yield this._call("registerSidebarButton",{id:i,name:s})})),Se(this,"registerRemMenuItem",r=>Oe(this,null,function*(){const{id:i,name:s,action:o}=r;this.plugin.model[i]=o,yield this._call("registerRemMenuItem",{id:i,name:s})})),Se(this,"stealKeys",r=>Oe(this,null,function*(){yield this._call("stealKeys",{keys:r})})),Se(this,"releaseKeys",r=>Oe(this,null,function*(){yield this._call("releaseKeys",{keys:r})})),Se(this,"registerCSS",(r,i)=>Oe(this,null,function*(){yield this._call("registerCSS",{id:r,css:i})})),Se(this,"registerStatusBarItem",(r,i)=>Oe(this,null,function*(){yield this._call("registerStatusBarItem",{id:r,html:i})})),Se(this,"registerCallback",(r,i)=>Oe(this,null,function*(){this.plugin.model[r]=i})),Se(this,"toast",r=>Oe(this,null,function*(){yield this._call("toast",{message:r,options:{}})})),this.plugin=n}}a(Gn,"AppNamespace");var Ja=Object.defineProperty,Ya=Object.defineProperties,eo=Object.getOwnPropertyDescriptors,pi=Object.getOwnPropertySymbols,to=Object.prototype.hasOwnProperty,no=Object.prototype.propertyIsEnumerable,Xn=a((e,t,n)=>t in e?Ja(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"rich_text_defNormalProp"),ro=a((e,t)=>{for(var n in t||(t={}))to.call(t,n)&&Xn(e,n,t[n]);if(pi)for(var n of pi(t))no.call(t,n)&&Xn(e,n,t[n]);return e},"rich_text_spreadValues"),io=a((e,t)=>Ya(e,eo(t)),"__spreadProps"),D=a((e,t,n)=>(Xn(e,typeof t!="symbol"?t+"":t,n),n),"rich_text_publicField"),U=a((e,t,n)=>new Promise((r,i)=>{var s=a(l=>{try{u(n.next(l))}catch(c){i(c)}},"fulfilled"),o=a(l=>{try{u(n.throw(l))}catch(c){i(c)}},"rejected"),u=a(l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o),"step");u((n=n.apply(e,t)).next())}),"rich_text_async");const so="richText";class $e{constructor(t){D(this,"richText",[]),D(this,"richTextNamespace"),D(this,"code",(n,r)=>(this.richText.push({i:"m",code:!0,language:r,text:n}),this)),D(this,"image",(n,r,i)=>(this.richText.push({i:"i",url:n,width:r,height:i}),this)),D(this,"rem",n=>{const r=ce(n),i={i:"q",_id:r};return this.richText.push(i),this}),D(this,"text",(n,r=[])=>{if(r.length===0)return this.richText.push(n),this;const i=Object.fromEntries(r.map(s=>cn[s]?["h",cn[s]]:[Xr[s],!0])||[]);return this.richText.push(io(ro({i:"m"},i),{text:n})),this}),D(this,"audio",n=>(this.richText.push({i:"a",url:n,onlyAudio:!0}),this)),D(this,"latex",(n,r=!1)=>(this.richText.push({i:"x",text:n,block:r}),this)),D(this,"video",n=>(this.richText.push({i:"a",url:n,onlyAudio:!1}),this)),D(this,"newline",()=>(this.richText.push(`
`),this)),D(this,"value",()=>this.richTextNamespace.normalize(this.richText)),this.richTextNamespace=t}}a($e,"RichTextBuilder");class Qn extends te{constructor(t){super(t,so),D(this,"indexOfElementAt",(n,r)=>U(this,null,function*(){return this.call("indexOfElementAt",{richText:n,position:r})})),D(this,"normalize",n=>U(this,null,function*(){return this.call("normalize",{richText:n})})),D(this,"removeTextFormatFromRange",(n,r,i,s)=>U(this,null,function*(){return this.call("removeTextFormatFromRange",{text:n,start:r,end:i,formatName:s})})),D(this,"applyTextFormatToRange",(n,r,i,s)=>U(this,null,function*(){return this.call("applyTextFormatToRange",{text:n,start:r,end:i,formatName:s})})),D(this,"toggleTextFormatOnRange",(n,r,i,s)=>U(this,null,function*(){return this.call("toggleTextFormatOnRange",{text:n,start:r,end:i,formatName:s})})),D(this,"replaceAllRichText",(n,r,i)=>U(this,null,function*(){return this.call("replaceAllRichText",{richText:n,findText:r,replacementText:i})})),D(this,"splitRichText",(n,r)=>U(this,null,function*(){return this.call("splitRichText",{richText:n,splitText:r})})),D(this,"empty",(n,r)=>U(this,null,function*(){return this.call("empty",{richText:n,allowSpaces:r})})),D(this,"indexOf",(n,r,i)=>U(this,null,function*(){return this.call("indexOf",{richText:n,character:r,startChar:i})})),D(this,"toHTML",n=>U(this,null,function*(){return this.call("toHTML",{richText:n})})),D(this,"length",n=>U(this,null,function*(){return this.call("length",{richText:n})})),D(this,"trimEnd",n=>U(this,null,function*(){return this.call("trimEnd",{richText:n})})),D(this,"trimStart",n=>U(this,null,function*(){return this.call("trimStart",{richText:n})})),D(this,"trim",n=>U(this,null,function*(){return this.call("trim",{richText:n})})),D(this,"split",(n,r)=>U(this,null,function*(){return this.call("split",{richText:n,separationCharacter:r})})),D(this,"deepGetRemAndAliasIdsFromRichText",n=>U(this,null,function*(){return this.call("deepGetRemAndAliasIdsFromRichText",{richText:n})})),D(this,"deepGetRemIdsFromRichText",n=>U(this,null,function*(){return this.call("deepGetRemIdsFromRichText",{richText:n})})),D(this,"findAllExternalURLs",n=>U(this,null,function*(){return this.call("findAllExternalURLs",{richText:n})})),D(this,"getRemAndAliasIdsFromRichText",n=>U(this,null,function*(){return this.call("getRemAndAliasIdsFromRichText",{richText:n})})),D(this,"getRemIdsFromRichText",n=>U(this,null,function*(){return this.call("getRemIdsFromRichText",{richText:n})})),D(this,"equals",(n,r)=>U(this,null,function*(){return this.call("equals",{richText1:n,richText2:r})})),D(this,"substring",(n,r,i)=>U(this,null,function*(){return this.call("substring",{richText:n,start:r,end:i})})),D(this,"charAt",(n,r)=>U(this,null,function*(){return this.call("charAt",{richText:n,index:r})})),D(this,"toString",n=>U(this,null,function*(){return this.call("toString",{richText:n})})),D(this,"toMarkdown",n=>U(this,null,function*(){return this.call("toMarkdown",{richText:n})})),D(this,"parseFromMarkdown",n=>U(this,null,function*(){return this.call("parseFromMarkdown",{markdown:n})}))}get code(){return new $e(this).code}get image(){return new $e(this).image}get rem(){return new $e(this).rem}get text(){return new $e(this).text}get audio(){return new $e(this).audio}get latex(){return new $e(this).latex}get video(){return new $e(this).video}get newline(){return new $e(this).newline}}a(Qn,"RichTextNamespace");var ao=Object.defineProperty,oo=a((e,t,n)=>t in e?ao(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"search_defNormalProp"),uo=a((e,t,n)=>(oo(e,typeof t!="symbol"?t+"":t,n),n),"search_publicField"),lo=a((e,t,n)=>new Promise((r,i)=>{var s=a(l=>{try{u(n.next(l))}catch(c){i(c)}},"fulfilled"),o=a(l=>{try{u(n.throw(l))}catch(c){i(c)}},"rejected"),u=a(l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o),"step");u((n=n.apply(e,t)).next())}),"search_async");const co="search";class Kn extends te{constructor(t){super(t,co),uo(this,"search",(n,r,i)=>lo(this,null,function*(){const s=ce(r);return((yield this.call("search",{queryText:n,searchContextRemId:s,options:i}))||[]).map(u=>new we(u,this._call))}))}}a(Kn,"SearchNamespace");var fo=Object.defineProperty,mi=Object.getOwnPropertySymbols,ho=Object.prototype.hasOwnProperty,po=Object.prototype.propertyIsEnumerable,Jn=a((e,t,n)=>t in e?fo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"settings_defNormalProp"),dn=a((e,t)=>{for(var n in t||(t={}))ho.call(t,n)&&Jn(e,n,t[n]);if(mi)for(var n of mi(t))po.call(t,n)&&Jn(e,n,t[n]);return e},"settings_spreadValues"),Ft=a((e,t,n)=>(Jn(e,typeof t!="symbol"?t+"":t,n),n),"settings_publicField"),Vt=a((e,t,n)=>new Promise((r,i)=>{var s=a(l=>{try{u(n.next(l))}catch(c){i(c)}},"fulfilled"),o=a(l=>{try{u(n.throw(l))}catch(c){i(c)}},"rejected"),u=a(l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o),"step");u((n=n.apply(e,t)).next())}),"settings_async");const mo="settings";class Yn extends te{constructor(t){super(t,mo),Ft(this,"registerDropdownSetting",n=>Vt(this,null,function*(){return this.call("registerDropdownSetting",dn({},n))})),Ft(this,"registerBooleanSetting",n=>Vt(this,null,function*(){return this.call("registerBooleanSetting",dn({},n))})),Ft(this,"registerStringSetting",n=>Vt(this,null,function*(){return this.call("registerStringSetting",dn({},n))})),Ft(this,"registerNumberSetting",n=>Vt(this,null,function*(){return this.call("registerNumberSetting",dn({},n))})),Ft(this,"getSetting",n=>Vt(this,null,function*(){return yield this.call("getSetting",{settingId:n})}))}}a(Yn,"SettingsNamespace");var go=Object.defineProperty,vo=a((e,t,n)=>t in e?go(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"storage_defNormalProp"),Pt=a((e,t,n)=>(vo(e,typeof t!="symbol"?t+"":t,n),n),"storage_publicField"),xt=a((e,t,n)=>new Promise((r,i)=>{var s=a(l=>{try{u(n.next(l))}catch(c){i(c)}},"fulfilled"),o=a(l=>{try{u(n.throw(l))}catch(c){i(c)}},"rejected"),u=a(l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o),"step");u((n=n.apply(e,t)).next())}),"storage_async");const yo="storage";class er extends te{constructor(t){super(t,yo),Pt(this,"setSession",(n,r)=>xt(this,null,function*(){return this.call("setSession",{key:n,value:r})})),Pt(this,"getSession",n=>xt(this,null,function*(){if(!!n)return this.call("getSession",{key:n})})),Pt(this,"setSynced",(n,r)=>xt(this,null,function*(){return this.call("setSynced",{key:n,value:r})})),Pt(this,"getSynced",n=>xt(this,null,function*(){if(!!n)return this.call("getSynced",{key:n})})),Pt(this,"setLocal",(n,r)=>xt(this,null,function*(){return this.call("setLocal",{key:n,value:r})})),Pt(this,"getLocal",n=>xt(this,null,function*(){if(!!n)return this.call("getLocal",{key:n})}))}}a(er,"StorageNamespace");var _o=Object.defineProperty,wo=a((e,t,n)=>t in e?_o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"widget_defNormalProp"),fn=a((e,t,n)=>(wo(e,typeof t!="symbol"?t+"":t,n),n),"widget_publicField"),hn=a((e,t,n)=>new Promise((r,i)=>{var s=a(l=>{try{u(n.next(l))}catch(c){i(c)}},"fulfilled"),o=a(l=>{try{u(n.throw(l))}catch(c){i(c)}},"rejected"),u=a(l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o),"step");u((n=n.apply(e,t)).next())}),"widget_async");const Eo="widget";class tr extends te{constructor(t){super(t,Eo),fn(this,"getDimensions",n=>hn(this,null,function*(){return this.call("getDimensions",{widgetInstanceId:n})})),fn(this,"openPopup",(n,r)=>hn(this,null,function*(){return this.call("openPopup",{widgetFileName:n,contextData:r})})),fn(this,"closePopup",(n=!0)=>hn(this,null,function*(){return this.call("closePopup",{restoreFocus:n})})),fn(this,"getWidgetContext",()=>hn(this,null,function*(){return this.call("getWidgetContext",{})}))}}a(tr,"WidgetNamespace");var Ro=Object.defineProperty,Po=a((e,t,n)=>t in e?Ro(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"window_defNormalProp"),ne=a((e,t,n)=>(Po(e,typeof t!="symbol"?t+"":t,n),n),"window_publicField"),re=a((e,t,n)=>new Promise((r,i)=>{var s=a(l=>{try{u(n.next(l))}catch(c){i(c)}},"fulfilled"),o=a(l=>{try{u(n.throw(l))}catch(c){i(c)}},"rejected"),u=a(l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o),"step");u((n=n.apply(e,t)).next())}),"window_async");const xo="window";class nr extends te{constructor(t){super(t,xo),ne(this,"stealKeys",(n,r)=>re(this,null,function*(){yield this.call("stealKeys",{keys:r,id:n})})),ne(this,"releaseKeys",(n,r)=>re(this,null,function*(){yield this.call("releaseKeys",{keys:r,id:n})})),ne(this,"openFloatingWidget",(n,r,i)=>re(this,null,function*(){return yield this.call("openFloatingWidget",{fileName:n,position:r,classContainer:i})})),ne(this,"closeFloatingWidget",n=>re(this,null,function*(){return yield this.call("closeFloatingWidget",{floatingWidgetId:n})})),ne(this,"isFloatingWidgetOpen",n=>re(this,null,function*(){return yield this.call("isFloatingWidgetOpen",{floatingWidgetId:n})})),ne(this,"setFloatingWidgetPosition",(n,r)=>re(this,null,function*(){return yield this.call("setFloatingWidgetPosition",{floatingWidgetId:n,position:r})})),ne(this,"closeAllFloatingWidgets",()=>re(this,null,function*(){return yield this.call("closeAllFloatingWidgets",{})})),ne(this,"getCurrentWindowTree",()=>re(this,null,function*(){return yield this.call("getCurrentWindowTree",{})})),ne(this,"setRemWindowTree",n=>re(this,null,function*(){return yield this.call("setRemWindowTree",{tree:n})})),ne(this,"getLastFocusedPane",()=>re(this,null,function*(){return yield this.call("getLastFocusedPane",{})})),ne(this,"setCurrentWindowTreeFromString",n=>re(this,null,function*(){return yield this.call("setCurrentWindowTreeFromString",{treeString:n})})),ne(this,"getOpenPaneIds",()=>re(this,null,function*(){return yield this.call("getOpenPaneIds",{})})),ne(this,"getFocusedPaneId",()=>re(this,null,function*(){return yield this.call("getFocusedPaneId",{})})),ne(this,"setFocusedPaneId",n=>re(this,null,function*(){return yield this.call("setFocusedPaneId",{paneId:n})})),ne(this,"getURL",()=>re(this,null,function*(){return yield this.call("getURL",{})})),ne(this,"setURL",n=>re(this,null,function*(){return yield this.call("setURL",{url:n})})),ne(this,"openRem",n=>re(this,null,function*(){return yield this.call("openRem",{remId:n._id})})),ne(this,"getOpenPaneRemIds",()=>re(this,null,function*(){return yield this.call("getOpenPaneRemIds",{})})),ne(this,"getOpenPaneRemId",n=>re(this,null,function*(){if(n)return yield this.call("getOpenPaneRemId",{paneId:n})})),ne(this,"openWidgetInPane",(n,r)=>re(this,null,function*(){return yield this.call("openWidgetInPane",{fileName:n,contextData:r})})),ne(this,"openWidgetInRightSidebar",(n,r)=>re(this,null,function*(){return yield this.call("openWidgetInRightSidebar",{fileName:n,contextData:r})}))}}a(nr,"WindowNamespace");var So=Object.defineProperty,bo=a((e,t,n)=>t in e?So(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"event_defNormalProp"),rr=a((e,t,n)=>(bo(e,typeof t!="symbol"?t+"":t,n),n),"event_publicField");const To="event";class ir extends te{constructor(t,n){super(t,To),rr(this,"plugin"),rr(this,"addListener",(r,i,s)=>{r in this.plugin.listeners||(this.plugin.listeners[r]=new Map),this.plugin.listeners[r].get(i)||this.plugin.listeners[r].set(i,[]),!this.plugin.listeners[r].get(i).includes(s)&&(this.plugin.listeners[r].get(i).push(s),this._call("events.addListener",{eventId:r,listenerKey:i}))}),rr(this,"removeListener",(r,i,s)=>{const o=this.plugin.listeners[r];if(!o)return;const u=o.get(i);if(!!u){if(s){const l=u.indexOf(s);if(l==-1)return;u.splice(l,1)}else u.splice(0,u.length);u.length===0&&(o.delete(i),this._call("events.removeListener",{eventId:r,listenerKey:i}))}}),this.plugin=n}}a(ir,"EventNamespace");var Oo=Object.defineProperty,gi=Object.getOwnPropertySymbols,Ao=Object.prototype.hasOwnProperty,Co=Object.prototype.propertyIsEnumerable,sr=a((e,t,n)=>t in e?Oo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"plugin_base_defNormalProp"),Do=a((e,t)=>{for(var n in t||(t={}))Ao.call(t,n)&&sr(e,n,t[n]);if(gi)for(var n of gi(t))Co.call(t,n)&&sr(e,n,t[n]);return e},"plugin_base_spreadValues"),W=a((e,t,n)=>(sr(e,typeof t!="symbol"?t+"":t,n),n),"plugin_base_publicField"),Fe=a((e,t,n)=>new Promise((r,i)=>{var s=a(l=>{try{u(n.next(l))}catch(c){i(c)}},"fulfilled"),o=a(l=>{try{u(n.throw(l))}catch(c){i(c)}},"rejected"),u=a(l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o),"step");u((n=n.apply(e,t)).next())}),"plugin_base_async");class ar{constructor(){W(this,"apiCallPromise",{}),W(this,"model",{}),W(this,"listeners",{}),W(this,"usedMessageIds",1),W(this,"widgetInstanceId"),W(this,"inSandbox"),W(this,"isNative"),W(this,"rootURL"),W(this,"mountDiv"),W(this,"widgetBodyResizeObserver",null),W(this,"widgetOptions"),W(this,"manifest"),W(this,"id"),W(this,"app",new Gn(this._call.bind(this),this)),W(this,"editor",new Hn(this._call.bind(this))),W(this,"event",new ir(this._call.bind(this),this)),W(this,"messaging",new $n(this._call.bind(this))),W(this,"focus",new Un(this._call.bind(this))),W(this,"date",new jn(this._call.bind(this))),W(this,"widget",new tr(this._call.bind(this))),W(this,"window",new nr(this._call.bind(this))),W(this,"powerup",new qn(this._call.bind(this))),W(this,"richText",new Qn(this._call.bind(this))),W(this,"rem",new kn(this._call.bind(this))),W(this,"card",new Bn(this._call.bind(this))),W(this,"storage",new er(this._call.bind(this))),W(this,"settings",new Yn(this._call.bind(this))),W(this,"search",new Kn(this._call.bind(this))),window.onmessage=t=>{this._receive(t)},this.pluginLogger=si()(`plugin:${this.id||"Plugin"}`),this.logApi=si()(`plugin:API:${this.id||"Plugin"}`),this.logApi("START"),this.event.addListener(b.onActivate,void 0,this.receiveActivateMessage.bind(this)),this.event.addListener(b.onDeactivate,void 0,this.receiveDeactivateMessage.bind(this)),this.event.addListener(b.setDarkMode,void 0,this.setDarkMode.bind(this)),this._call("askToActivate",{})}pluginLogger(...t){}logApi(...t){}setDarkMode({darkMode:t}){this.inSandbox&&(document.body.classList.add(t?"dark":"light"),document.body.classList.remove(t?"light":"dark"))}track(t){let n=!1,r=!1,i=!1,s=[];const o=a(()=>{if(n){for(const{event:u,key:l}of s.flatMap(c=>c.reactiveDeps))this.event.removeListener(u,l,o);return}else r?i=!0:(r=!0,a(()=>Fe(this,null,function*(){s=yield Zr(this,t,o,()=>{},s||[]),r=!1,i&&(i=!1,o())}),"effect")())},"run");return o(),()=>{n=!0}}receiveActivateMessage(t){return Fe(this,null,function*(){var n,r,i,s;if(!t.inSandbox&&!t.mountDiv)throw"Native plugin didn't receive mountDiv";const o=t.inSandbox?this.createMountDiv():t.mountDiv;this.inSandbox=t.inSandbox,this.isNative=!t.inSandbox,this.widgetOptions=t.widgetOptions,this.widgetInstanceId=t.widgetInstanceId,this.rootURL=t.rootURL,this.mountDiv=o,this.isNative&&(window.widgetIdToWidget[this.widgetInstanceId]=this),this.onActivate(o,t.rootURL);const u=(r=(n=t.widgetOptions)==null?void 0:n.dimensions)==null?void 0:r.height,l=(s=(i=t.widgetOptions)==null?void 0:i.dimensions)==null?void 0:s.width;if(l=="auto"&&t.inSandbox&&(o.style.display="inline-block"),(u==="auto"||l==="auto")&&this.autoAdjustWidgetContainerDimension(),t.inSandbox&&(u==="auto"&&(document.documentElement.style.overflowY="hidden"),l==="auto"&&(document.documentElement.style.overflowX="hidden")),t.inSandbox)for(const c of t.styleSheetHREFs){const h=document.createElement("link");h.href=c,h.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(h)}yield this._call("activateCompleted",{})})}receiveDeactivateMessage(t){return Fe(this,null,function*(){this.widgetBodyResizeObserver&&this.widgetBodyResizeObserver.disconnect(),this.onDeactivate()})}createMountDiv(){const t=document.createElement("div");return document.body.appendChild(t),t}log(...t){this.pluginLogger(t)}_call(t,n,r){return Fe(this,null,function*(){const i=this.usedMessageIds++;typeof r=="string"?t=r+"."+t:typeof r=="object"&&(t=[...r,t].join("."));const s={pluginId:this.id,widgetInstanceId:this.widgetInstanceId,methodName:t,args:n,messageId:i,isIntendedForRemNoteAPIMain:!0};this.logApi("Call",i);const o=this.isNative?window:window.parent,l=yield new Promise((c,h)=>{this.apiCallPromise[i]=c;try{o.postMessage(s,"*")}catch(R){console.error(`Failed to call plugin method with arguments: ${t} ${n}`)}});if(this.logApi("Got response",l),l!=null&&l.error)throw l.error;return l==null?void 0:l.response})}_receive(t){var n,r,i;if((n=t.data)!=null&&n.isIntendedForRemNoteAPIPlugin){const s=t.data;if("messageId"in s){const o=s.messageId;this.logApi("API _receive",o,s,this.apiCallPromise[o]),this.apiCallPromise[o](s),delete this.apiCallPromise[o]}else if("callbackId"in s){const o=this.model[s.callbackId];o||console.error(`Tried to execute callback ${s.callbackId}, but it was not registered`),o(s.args)}else if("eventId"in s){if(!ve(s.eventId))throw"Invalid event "+s.eventId;(i=(r=this.listeners[s.eventId])==null?void 0:r.get(s.listenerKey))==null||i.forEach(o=>o(s.args))}}}autoAdjustWidgetContainerDimension(){return Fe(this,null,function*(){const t=new ResizeObserver(r=>{for(let i of r)if(i.contentBoxSize){const s=window.getComputedStyle(i.target),o=parseFloat(s.getPropertyValue("margin-block-start"))||0,u=parseFloat(s.getPropertyValue("margin-block-end"))||0,l=parseFloat(s.getPropertyValue("margin-inline-start"))||0,c=parseFloat(s.getPropertyValue("margin-inline-end"))||0,h={height:i.contentBoxSize[0].blockSize+o+u,width:i.contentBoxSize[0].inlineSize+l+c};this._call("widgetEvents.updateWidgetContainerDimension",h)}}),n=this.inSandbox?this.mountDiv:this.mountDiv.firstChild;!n||(t.observe(n),this.widgetBodyResizeObserver=t)})}createFakeEmbedComponent(t){return Fe(this,null,function*(){return this._call("widgetEvents.createFakeEmbedComponent",t)})}unmountFakeEmbedComponent(t){return Fe(this,null,function*(){return this._call("widgetEvents.unmountFakeEmbedComponent",{id:t})})}updateFakeEmbedComponentRect(t,n){return Fe(this,null,function*(){return this._call("widgetEvents.updateFakeEmbedComponentRect",Do({id:t},n))})}updateFakeEmbedExternalProps(t,n){return Fe(this,null,function*(){return this._call("widgetEvents.updateFakeEmbedExternalProps",{id:t,externalProps:n})})}ping(){return Fe(this,null,function*(){return yield this._call("ping",{})})}}a(ar,"RNPlugin");var J=K(568);let No=a(e=>crypto.getRandomValues(new Uint8Array(e)),"random"),Io=a((e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*r*t/e.length);return(s=t)=>{let o="";for(;;){let u=n(i),l=i;for(;l--;)if(o+=e[u[l]&r]||"",o.length===s)return o}}},"customRandom"),dd=a((e,t=21)=>Io(e,t,No),"customAlphabet"),Mo=a((e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),""),"nanoid");var E=K(359),St=K.n(E),vi="1.13.4",yi=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},pn=Array.prototype,or=Object.prototype,_i=typeof Symbol!="undefined"?Symbol.prototype:null,ko=pn.push,Bt=pn.slice,Zt=or.toString,Lo=or.hasOwnProperty,wi=typeof ArrayBuffer!="undefined",Fo=typeof DataView!="undefined",Vo=Array.isArray,Ei=Object.keys,Ri=Object.create,Pi=wi&&ArrayBuffer.isView,Bo=isNaN,Zo=isFinite,xi=!{toString:null}.propertyIsEnumerable("toString"),Si=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],zo=Math.pow(2,53)-1;function Ee(e,t){return t=t==null?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var s=Array(t+1);for(i=0;i<t;i++)s[i]=arguments[i];return s[t]=r,e.apply(this,s)}}a(Ee,"restArguments");function ot(e){var t=typeof e;return t==="function"||t==="object"&&!!e}a(ot,"isObject");function jo(e){return e===null}a(jo,"isNull");function bi(e){return e===void 0}a(bi,"isUndefined");function Ti(e){return e===!0||e===!1||Zt.call(e)==="[object Boolean]"}a(Ti,"isBoolean");function Wo(e){return!!(e&&e.nodeType===1)}a(Wo,"isElement");function he(e){var t="[object "+e+"]";return function(n){return Zt.call(n)===t}}a(he,"tagTester");var ur=he("String"),Oi=he("Number"),Ho=he("Date"),Uo=he("RegExp"),$o=he("Error"),Ai=he("Symbol"),Ci=he("ArrayBuffer"),Di=he("Function"),qo=yi.document&&yi.document.childNodes;typeof Int8Array!="object"&&typeof qo!="function"&&(Di=a(function(e){return typeof e=="function"||!1},"isFunction"));var ye=Di,Ni=he("Object"),Ii=Fo&&Ni(new DataView(new ArrayBuffer(8))),lr=typeof Map!="undefined"&&Ni(new Map),Go=he("DataView");function Xo(e){return e!=null&&ye(e.getInt8)&&Ci(e.buffer)}a(Xo,"ie10IsDataView");var mn=Ii?Xo:Go,ut=Vo||he("Array");function Ye(e,t){return e!=null&&Lo.call(e,t)}a(Ye,"has");var cr=he("Arguments");(function(){cr(arguments)||(cr=a(function(e){return Ye(e,"callee")},"isArguments"))})();var dr=cr;function Qo(e){return!Ai(e)&&Zo(e)&&!isNaN(parseFloat(e))}a(Qo,"isFinite_isFinite");function Mi(e){return Oi(e)&&Bo(e)}a(Mi,"isNaN_isNaN");function ki(e){return function(){return e}}a(ki,"constant");function Li(e){return function(t){var n=e(t);return typeof n=="number"&&n>=0&&n<=zo}}a(Li,"createSizePropertyCheck");function Fi(e){return function(t){return t==null?void 0:t[e]}}a(Fi,"shallowProperty");var gn=Fi("byteLength"),Ko=Li(gn),Jo=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function Yo(e){return Pi?Pi(e)&&!mn(e):Ko(e)&&Jo.test(Zt.call(e))}a(Yo,"isTypedArray");var Vi=wi?Yo:ki(!1),Re=Fi("length");function eu(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(i){return t[i]===!0},push:function(i){return t[i]=!0,e.push(i)}}}a(eu,"emulatedSet");function Bi(e,t){t=eu(t);var n=Si.length,r=e.constructor,i=ye(r)&&r.prototype||or,s="constructor";for(Ye(e,s)&&!t.contains(s)&&t.push(s);n--;)s=Si[n],s in e&&e[s]!==i[s]&&!t.contains(s)&&t.push(s)}a(Bi,"collectNonEnumProps");function ue(e){if(!ot(e))return[];if(Ei)return Ei(e);var t=[];for(var n in e)Ye(e,n)&&t.push(n);return xi&&Bi(e,t),t}a(ue,"keys");function tu(e){if(e==null)return!0;var t=Re(e);return typeof t=="number"&&(ut(e)||ur(e)||dr(e))?t===0:Re(ue(e))===0}a(tu,"isEmpty");function Zi(e,t){var n=ue(t),r=n.length;if(e==null)return!r;for(var i=Object(e),s=0;s<r;s++){var o=n[s];if(t[o]!==i[o]||!(o in i))return!1}return!0}a(Zi,"isMatch");function Z(e){if(e instanceof Z)return e;if(!(this instanceof Z))return new Z(e);this._wrapped=e}a(Z,"_"),Z.VERSION=vi,Z.prototype.value=function(){return this._wrapped},Z.prototype.valueOf=Z.prototype.toJSON=Z.prototype.value,Z.prototype.toString=function(){return String(this._wrapped)};function zi(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,gn(e))}a(zi,"toBufferView");var ji="[object DataView]";function fr(e,t,n,r){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;return i!=="function"&&i!=="object"&&typeof t!="object"?!1:Wi(e,t,n,r)}a(fr,"eq");function Wi(e,t,n,r){e instanceof Z&&(e=e._wrapped),t instanceof Z&&(t=t._wrapped);var i=Zt.call(e);if(i!==Zt.call(t))return!1;if(Ii&&i=="[object Object]"&&mn(e)){if(!mn(t))return!1;i=ji}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return _i.valueOf.call(e)===_i.valueOf.call(t);case"[object ArrayBuffer]":case ji:return Wi(zi(e),zi(t),n,r)}var s=i==="[object Array]";if(!s&&Vi(e)){var o=gn(e);if(o!==gn(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;s=!0}if(!s){if(typeof e!="object"||typeof t!="object")return!1;var u=e.constructor,l=t.constructor;if(u!==l&&!(ye(u)&&u instanceof u&&ye(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var c=n.length;c--;)if(n[c]===e)return r[c]===t;if(n.push(e),r.push(t),s){if(c=e.length,c!==t.length)return!1;for(;c--;)if(!fr(e[c],t[c],n,r))return!1}else{var h=ue(e),R;if(c=h.length,ue(t).length!==c)return!1;for(;c--;)if(R=h[c],!(Ye(t,R)&&fr(e[R],t[R],n,r)))return!1}return n.pop(),r.pop(),!0}a(Wi,"deepEq");function nu(e,t){return fr(e,t)}a(nu,"isEqual");function zt(e){if(!ot(e))return[];var t=[];for(var n in e)t.push(n);return xi&&Bi(e,t),t}a(zt,"allKeys");function hr(e){var t=Re(e);return function(n){if(n==null)return!1;var r=zt(n);if(Re(r))return!1;for(var i=0;i<t;i++)if(!ye(n[e[i]]))return!1;return e!==$i||!ye(n[pr])}}a(hr,"ie11fingerprint");var pr="forEach",Hi="has",mr=["clear","delete"],Ui=["get",Hi,"set"],ru=mr.concat(pr,Ui),$i=mr.concat(Ui),iu=["add"].concat(mr,pr,Hi),su=lr?hr(ru):he("Map"),au=lr?hr($i):he("WeakMap"),ou=lr?hr(iu):he("Set"),uu=he("WeakSet");function bt(e){for(var t=ue(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r}a(bt,"values");function lu(e){for(var t=ue(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r}a(lu,"pairs");function qi(e){for(var t={},n=ue(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t}a(qi,"invert");function gr(e){var t=[];for(var n in e)ye(e[n])&&t.push(n);return t.sort()}a(gr,"functions");function vr(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||n==null)return n;for(var i=1;i<r;i++)for(var s=arguments[i],o=e(s),u=o.length,l=0;l<u;l++){var c=o[l];(!t||n[c]===void 0)&&(n[c]=s[c])}return n}}a(vr,"createAssigner");var Gi=vr(zt),vn=vr(ue),Xi=vr(zt,!0);function cu(){return function(){}}a(cu,"ctor");function Qi(e){if(!ot(e))return{};if(Ri)return Ri(e);var t=cu();t.prototype=e;var n=new t;return t.prototype=null,n}a(Qi,"baseCreate");function du(e,t){var n=Qi(e);return t&&vn(n,t),n}a(du,"create");function fu(e){return ot(e)?ut(e)?e.slice():Gi({},e):e}a(fu,"clone");function hu(e,t){return t(e),e}a(hu,"tap");function Ki(e){return ut(e)?e:[e]}a(Ki,"toPath"),Z.toPath=Ki;function jt(e){return Z.toPath(e)}a(jt,"_toPath_toPath");function yr(e,t){for(var n=t.length,r=0;r<n;r++){if(e==null)return;e=e[t[r]]}return n?e:void 0}a(yr,"deepGet");function Ji(e,t,n){var r=yr(e,jt(t));return bi(r)?n:r}a(Ji,"get");function pu(e,t){t=jt(t);for(var n=t.length,r=0;r<n;r++){var i=t[r];if(!Ye(e,i))return!1;e=e[i]}return!!n}a(pu,"has_has");function _r(e){return e}a(_r,"identity");function Wt(e){return e=vn({},e),function(t){return Zi(t,e)}}a(Wt,"matcher");function wr(e){return e=jt(e),function(t){return yr(t,e)}}a(wr,"property");function Ht(e,t,n){if(t===void 0)return e;switch(n==null?3:n){case 1:return function(r){return e.call(t,r)};case 3:return function(r,i,s){return e.call(t,r,i,s)};case 4:return function(r,i,s,o){return e.call(t,r,i,s,o)}}return function(){return e.apply(t,arguments)}}a(Ht,"optimizeCb");function Yi(e,t,n){return e==null?_r:ye(e)?Ht(e,t,n):ot(e)&&!ut(e)?Wt(e):wr(e)}a(Yi,"baseIteratee");function Er(e,t){return Yi(e,t,1/0)}a(Er,"iteratee"),Z.iteratee=Er;function Pe(e,t,n){return Z.iteratee!==Er?Z.iteratee(e,t):Yi(e,t,n)}a(Pe,"cb");function mu(e,t,n){t=Pe(t,n);for(var r=ue(e),i=r.length,s={},o=0;o<i;o++){var u=r[o];s[u]=t(e[u],u,e)}return s}a(mu,"mapObject");function es(){}a(es,"noop");function gu(e){return e==null?es:function(t){return Ji(e,t)}}a(gu,"propertyOf");function vu(e,t,n){var r=Array(Math.max(0,e));t=Ht(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r}a(vu,"times");function Rr(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}a(Rr,"random_random");var Ut=Date.now||function(){return new Date().getTime()};function ts(e){var t=a(function(s){return e[s]},"escaper"),n="(?:"+ue(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(s){return s=s==null?"":""+s,r.test(s)?s.replace(i,t):s}}a(ts,"createEscaper");var ns={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},yu=ts(ns),_u=qi(ns),wu=ts(_u),Eu=Z.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Pr=/(.)^/,Ru={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Pu=/\\|'|\r|\n|\u2028|\u2029/g;function xu(e){return"\\"+Ru[e]}a(xu,"escapeChar");var Su=/^\s*(\w|\$)+\s*$/;function bu(e,t,n){!t&&n&&(t=n),t=Xi({},t,Z.templateSettings);var r=RegExp([(t.escape||Pr).source,(t.interpolate||Pr).source,(t.evaluate||Pr).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,function(c,h,R,me,ie){return s+=e.slice(i,ie).replace(Pu,xu),i=ie+c.length,h?s+=`'+
((__t=(`+h+`))==null?'':_.escape(__t))+
'`:R?s+=`'+
((__t=(`+R+`))==null?'':__t)+
'`:me&&(s+=`';
`+me+`
__p+='`),c}),s+=`';
`;var o=t.variable;if(o){if(!Su.test(o))throw new Error("variable is not a bare identifier: "+o)}else s=`with(obj||{}){
`+s+`}
`,o="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var u;try{u=new Function(o,"_",s)}catch(c){throw c.source=s,c}var l=a(function(c){return u.call(this,c,Z)},"template");return l.source="function("+o+`){
`+s+"}",l}a(bu,"template");function Tu(e,t,n){t=jt(t);var r=t.length;if(!r)return ye(n)?n.call(e):n;for(var i=0;i<r;i++){var s=e==null?void 0:e[t[i]];s===void 0&&(s=n,i=r),e=ye(s)?s.call(e):s}return e}a(Tu,"result");var Ou=0;function Au(e){var t=++Ou+"";return e?e+t:t}a(Au,"uniqueId");function Cu(e){var t=Z(e);return t._chain=!0,t}a(Cu,"chain");function rs(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var s=Qi(e.prototype),o=e.apply(s,i);return ot(o)?o:s}a(rs,"executeBound");var xr=Ee(function(e,t){var n=xr.placeholder,r=a(function(){for(var i=0,s=t.length,o=Array(s),u=0;u<s;u++)o[u]=t[u]===n?arguments[i++]:t[u];for(;i<arguments.length;)o.push(arguments[i++]);return rs(e,r,this,this,o)},"bound");return r});xr.placeholder=Z;var yn=xr,is=Ee(function(e,t,n){if(!ye(e))throw new TypeError("Bind must be called on a function");var r=Ee(function(i){return rs(e,r,t,this,n.concat(i))});return r}),be=Li(Re);function lt(e,t,n,r){if(r=r||[],!t&&t!==0)t=1/0;else if(t<=0)return r.concat(e);for(var i=r.length,s=0,o=Re(e);s<o;s++){var u=e[s];if(be(u)&&(ut(u)||dr(u)))if(t>1)lt(u,t-1,n,r),i=r.length;else for(var l=0,c=u.length;l<c;)r[i++]=u[l++];else n||(r[i++]=u)}return r}a(lt,"flatten");var Du=Ee(function(e,t){t=lt(t,!1,!1);var n=t.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=is(e[r],e)}return e});function Nu(e,t){var n=a(function(r){var i=n.cache,s=""+(t?t.apply(this,arguments):r);return Ye(i,s)||(i[s]=e.apply(this,arguments)),i[s]},"memoize");return n.cache={},n}a(Nu,"memoize");var ss=Ee(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),Iu=yn(ss,Z,1);function Mu(e,t,n){var r,i,s,o,u=0;n||(n={});var l=a(function(){u=n.leading===!1?0:Ut(),r=null,o=e.apply(i,s),r||(i=s=null)},"later"),c=a(function(){var h=Ut();!u&&n.leading===!1&&(u=h);var R=t-(h-u);return i=this,s=arguments,R<=0||R>t?(r&&(clearTimeout(r),r=null),u=h,o=e.apply(i,s),r||(i=s=null)):!r&&n.trailing!==!1&&(r=setTimeout(l,R)),o},"throttled");return c.cancel=function(){clearTimeout(r),u=0,r=i=s=null},c}a(Mu,"throttle");function ku(e,t,n){var r,i,s,o,u,l=a(function(){var h=Ut()-i;t>h?r=setTimeout(l,t-h):(r=null,n||(o=e.apply(u,s)),r||(s=u=null))},"later"),c=Ee(function(h){return u=this,s=h,i=Ut(),r||(r=setTimeout(l,t),n&&(o=e.apply(u,s))),o});return c.cancel=function(){clearTimeout(r),r=s=u=null},c}a(ku,"debounce");function Lu(e,t){return yn(t,e)}a(Lu,"wrap");function Sr(e){return function(){return!e.apply(this,arguments)}}a(Sr,"negate");function Fu(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}}a(Fu,"compose");function Vu(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}a(Vu,"after");function as(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}a(as,"before");var Bu=yn(as,2);function os(e,t,n){t=Pe(t,n);for(var r=ue(e),i,s=0,o=r.length;s<o;s++)if(i=r[s],t(e[i],i,e))return i}a(os,"findKey");function us(e){return function(t,n,r){n=Pe(n,r);for(var i=Re(t),s=e>0?0:i-1;s>=0&&s<i;s+=e)if(n(t[s],s,t))return s;return-1}}a(us,"createPredicateIndexFinder");var br=us(1),ls=us(-1);function cs(e,t,n,r){n=Pe(n,r,1);for(var i=n(t),s=0,o=Re(e);s<o;){var u=Math.floor((s+o)/2);n(e[u])<i?s=u+1:o=u}return s}a(cs,"sortedIndex");function ds(e,t,n){return function(r,i,s){var o=0,u=Re(r);if(typeof s=="number")e>0?o=s>=0?s:Math.max(s+u,o):u=s>=0?Math.min(s+1,u):s+u+1;else if(n&&s&&u)return s=n(r,i),r[s]===i?s:-1;if(i!==i)return s=t(Bt.call(r,o,u),Mi),s>=0?s+o:-1;for(s=e>0?o:u-1;s>=0&&s<u;s+=e)if(r[s]===i)return s;return-1}}a(ds,"createIndexFinder");var fs=ds(1,br,cs),Zu=ds(-1,ls);function Tr(e,t,n){var r=be(e)?br:os,i=r(e,t,n);if(i!==void 0&&i!==-1)return e[i]}a(Tr,"find");function zu(e,t){return Tr(e,Wt(t))}a(zu,"findWhere");function qe(e,t,n){t=Ht(t,n);var r,i;if(be(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var s=ue(e);for(r=0,i=s.length;r<i;r++)t(e[s[r]],s[r],e)}return e}a(qe,"each");function ct(e,t,n){t=Pe(t,n);for(var r=!be(e)&&ue(e),i=(r||e).length,s=Array(i),o=0;o<i;o++){var u=r?r[o]:o;s[o]=t(e[u],u,e)}return s}a(ct,"map");function hs(e){var t=a(function(n,r,i,s){var o=!be(n)&&ue(n),u=(o||n).length,l=e>0?0:u-1;for(s||(i=n[o?o[l]:l],l+=e);l>=0&&l<u;l+=e){var c=o?o[l]:l;i=r(i,n[c],c,n)}return i},"reducer");return function(n,r,i,s){var o=arguments.length>=3;return t(n,Ht(r,s,4),i,o)}}a(hs,"createReduce");var Or=hs(1),ps=hs(-1);function Tt(e,t,n){var r=[];return t=Pe(t,n),qe(e,function(i,s,o){t(i,s,o)&&r.push(i)}),r}a(Tt,"filter");function ju(e,t,n){return Tt(e,Sr(Pe(t)),n)}a(ju,"reject");function ms(e,t,n){t=Pe(t,n);for(var r=!be(e)&&ue(e),i=(r||e).length,s=0;s<i;s++){var o=r?r[s]:s;if(!t(e[o],o,e))return!1}return!0}a(ms,"every");function gs(e,t,n){t=Pe(t,n);for(var r=!be(e)&&ue(e),i=(r||e).length,s=0;s<i;s++){var o=r?r[s]:s;if(t(e[o],o,e))return!0}return!1}a(gs,"some");function Ge(e,t,n,r){return be(e)||(e=bt(e)),(typeof n!="number"||r)&&(n=0),fs(e,t,n)>=0}a(Ge,"contains");var Wu=Ee(function(e,t,n){var r,i;return ye(t)?i=t:(t=jt(t),r=t.slice(0,-1),t=t[t.length-1]),ct(e,function(s){var o=i;if(!o){if(r&&r.length&&(s=yr(s,r)),s==null)return;o=s[t]}return o==null?o:o.apply(s,n)})});function Ar(e,t){return ct(e,wr(t))}a(Ar,"pluck");function Hu(e,t){return Tt(e,Wt(t))}a(Hu,"where");function vs(e,t,n){var r=-1/0,i=-1/0,s,o;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=be(e)?e:bt(e);for(var u=0,l=e.length;u<l;u++)s=e[u],s!=null&&s>r&&(r=s)}else t=Pe(t,n),qe(e,function(c,h,R){o=t(c,h,R),(o>i||o===-1/0&&r===-1/0)&&(r=c,i=o)});return r}a(vs,"max");function Uu(e,t,n){var r=1/0,i=1/0,s,o;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=be(e)?e:bt(e);for(var u=0,l=e.length;u<l;u++)s=e[u],s!=null&&s<r&&(r=s)}else t=Pe(t,n),qe(e,function(c,h,R){o=t(c,h,R),(o<i||o===1/0&&r===1/0)&&(r=c,i=o)});return r}a(Uu,"min");var $u=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function ys(e){return e?ut(e)?Bt.call(e):ur(e)?e.match($u):be(e)?ct(e,_r):bt(e):[]}a(ys,"toArray");function _s(e,t,n){if(t==null||n)return be(e)||(e=bt(e)),e[Rr(e.length-1)];var r=ys(e),i=Re(r);t=Math.max(Math.min(t,i),0);for(var s=i-1,o=0;o<t;o++){var u=Rr(o,s),l=r[o];r[o]=r[u],r[u]=l}return r.slice(0,t)}a(_s,"sample");function qu(e){return _s(e,1/0)}a(qu,"shuffle");function Gu(e,t,n){var r=0;return t=Pe(t,n),Ar(ct(e,function(i,s,o){return{value:i,index:r++,criteria:t(i,s,o)}}).sort(function(i,s){var o=i.criteria,u=s.criteria;if(o!==u){if(o>u||o===void 0)return 1;if(o<u||u===void 0)return-1}return i.index-s.index}),"value")}a(Gu,"sortBy");function _n(e,t){return function(n,r,i){var s=t?[[],[]]:{};return r=Pe(r,i),qe(n,function(o,u){var l=r(o,u,n);e(s,o,l)}),s}}a(_n,"group");var Xu=_n(function(e,t,n){Ye(e,n)?e[n].push(t):e[n]=[t]}),Qu=_n(function(e,t,n){e[n]=t}),Ku=_n(function(e,t,n){Ye(e,n)?e[n]++:e[n]=1}),Ju=_n(function(e,t,n){e[n?0:1].push(t)},!0);function Yu(e){return e==null?0:be(e)?e.length:ue(e).length}a(Yu,"size");function el(e,t,n){return t in n}a(el,"keyInObj");var ws=Ee(function(e,t){var n={},r=t[0];if(e==null)return n;ye(r)?(t.length>1&&(r=Ht(r,t[1])),t=zt(e)):(r=el,t=lt(t,!1,!1),e=Object(e));for(var i=0,s=t.length;i<s;i++){var o=t[i],u=e[o];r(u,o,e)&&(n[o]=u)}return n}),tl=Ee(function(e,t){var n=t[0],r;return ye(n)?(n=Sr(n),t.length>1&&(r=t[1])):(t=ct(lt(t,!1,!1),String),n=a(function(i,s){return!Ge(t,s)},"iteratee")),ws(e,n,r)});function Es(e,t,n){return Bt.call(e,0,Math.max(0,e.length-(t==null||n?1:t)))}a(Es,"initial");function Cr(e,t,n){return e==null||e.length<1?t==null||n?void 0:[]:t==null||n?e[0]:Es(e,e.length-t)}a(Cr,"first");function wn(e,t,n){return Bt.call(e,t==null||n?1:t)}a(wn,"rest");function nl(e,t,n){return e==null||e.length<1?t==null||n?void 0:[]:t==null||n?e[e.length-1]:wn(e,Math.max(0,e.length-t))}a(nl,"last");function rl(e){return Tt(e,Boolean)}a(rl,"compact");function il(e,t){return lt(e,t,!1)}a(il,"flatten_flatten");var Rs=Ee(function(e,t){return t=lt(t,!0,!0),Tt(e,function(n){return!Ge(t,n)})}),sl=Ee(function(e,t){return Rs(e,t)});function Dr(e,t,n,r){Ti(t)||(r=n,n=t,t=!1),n!=null&&(n=Pe(n,r));for(var i=[],s=[],o=0,u=Re(e);o<u;o++){var l=e[o],c=n?n(l,o,e):l;t&&!n?((!o||s!==c)&&i.push(l),s=c):n?Ge(s,c)||(s.push(c),i.push(l)):Ge(i,l)||i.push(l)}return i}a(Dr,"uniq");var al=Ee(function(e){return Dr(lt(e,!0,!0))});function ol(e){for(var t=[],n=arguments.length,r=0,i=Re(e);r<i;r++){var s=e[r];if(!Ge(t,s)){var o;for(o=1;o<n&&Ge(arguments[o],s);o++);o===n&&t.push(s)}}return t}a(ol,"intersection");function Nr(e){for(var t=e&&vs(e,Re).length||0,n=Array(t),r=0;r<t;r++)n[r]=Ar(e,r);return n}a(Nr,"unzip");var ul=Ee(Nr);function ll(e,t){for(var n={},r=0,i=Re(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n}a(ll,"object");function cl(e,t,n){t==null&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),s=0;s<r;s++,e+=n)i[s]=e;return i}a(cl,"range");function dl(e,t){if(t==null||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(Bt.call(e,r,r+=t));return n}a(dl,"chunk");function Ir(e,t){return e._chain?Z(t).chain():t}a(Ir,"chainResult");function Ps(e){return qe(gr(e),function(t){var n=Z[t]=e[t];Z.prototype[t]=function(){var r=[this._wrapped];return ko.apply(r,arguments),Ir(this,n.apply(Z,r))}}),Z}a(Ps,"mixin"),qe(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=pn[e];Z.prototype[e]=function(){var n=this._wrapped;return n!=null&&(t.apply(n,arguments),(e==="shift"||e==="splice")&&n.length===0&&delete n[0]),Ir(this,n)}}),qe(["concat","join","slice"],function(e){var t=pn[e];Z.prototype[e]=function(){var n=this._wrapped;return n!=null&&(n=t.apply(n,arguments)),Ir(this,n)}});var fl=Z,Mr=Ps(O);Mr._=Mr;var xs=Mr,hl=Object.defineProperty,pl=a((e,t,n)=>t in e?hl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"AncestorScrollDetector_defNormalProp"),kr=a((e,t,n)=>(pl(e,typeof t!="symbol"?t+"":t,n),n),"AncestorScrollDetector_publicField");class Ss{constructor(t){kr(this,"tree",new Map),kr(this,"rootNode"),kr(this,"handleScroll",n=>{if(!n.target)return;const r=n.target;if(!this.tree.get(r))return;r.querySelectorAll(".js-fake-embed").forEach(o=>{const u=this.tree.get(o);!u||u.callback&&u.callback(r)})}),this.rootNode=t}addListener(t,n){var r;if(!((r=this.rootNode)!=null&&r.contains(t))||this.tree.has(t))return;let i=t;for(this.tree.set(i,{node:i,children:new Map,leaf:!0,callback:n});i&&i.parentElement;){const s=this.tree.get(i.parentElement);if(s){s.children.set(i,!0);break}this.tree.set(i.parentElement,{node:i.parentElement,children:new Map([[i,!0]])}),i.parentElement.addEventListener("scroll",this.handleScroll),i=i.parentElement}}removeListener(t){const n=this.tree.get(t);if(!n||!n.leaf)return;let r=t;for(;r;){const i=this.tree.get(r);if(!i)break;const s=r.parentElement?this.tree.get(r.parentElement):null;if(r!==this.rootNode&&!s||s&&!s.children.has(r)||(s&&(s==null||s.children.delete(r)),i.children.size!==0)||(r.removeEventListener("scroll",this.handleScroll),this.tree.delete(r),!s))break;r=s.node}}}a(Ss,"AncestorScrollDetector");const Lr=(0,E.createContext)({}),ml=a(({root:e,children:t})=>{const n=(0,E.useMemo)(()=>new Ss(e),[]);return(0,J.jsx)(Lr.Provider,{value:n,children:t})},"AncestorScrollDetectorProvider"),gl=a(()=>(0,E.useContext)(Lr),"useAncestorScrollDetector");function vl(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(i){i(n)}),(r=e.get("*"))&&r.slice().map(function(i){i(t,n)})}}}a(vl,"mitt");const En=vl();var Rn=(e=>(e.PluginBodyResizeOrTreeRenders="PluginBodyResizeOrTreeRenders",e))(Rn||{});const yl=a((e,t)=>{(0,E.useEffect)(()=>(En.on(e,t),()=>En.off(e,t)),[e,t])},"useEvent"),bs=(0,E.createContext)(null),_l=a(({plugin:e,children:t})=>(0,J.jsx)(bs.Provider,{value:e,children:t}),"PluginProvider"),Xe=a(()=>{const e=(0,E.useContext)(bs);if(!e)throw"You must wrap any RemNote API hooks in a <PluginProvider/>";return e},"usePlugin"),Ts=(0,E.createContext)(null),wl=a(({pluginRoot:e,children:t})=>(0,J.jsx)(Ts.Provider,{value:e,children:t}),"PluginRootProvider"),El=a(()=>(0,E.useContext)(Ts),"usePluginRootDivRef");function Rl(e){const t=St().useRef(e),n=St().useRef(0);return xs.isEqual(e,t.current)||(t.current=e,n.current+=1),St().useMemo(()=>t.current,[n.current])}a(Rl,"useDeepCompareMemoize");function Pl(e,t){return St().useEffect(e,Rl(t))}a(Pl,"useDeepCompareEffectNoCheck");var xl=Object.defineProperty,Sl=Object.defineProperties,bl=Object.getOwnPropertyDescriptors,Pn=Object.getOwnPropertySymbols,Os=Object.prototype.hasOwnProperty,As=Object.prototype.propertyIsEnumerable,Cs=a((e,t,n)=>t in e?xl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"FakeEmbed_defNormalProp"),Qe=a((e,t)=>{for(var n in t||(t={}))Os.call(t,n)&&Cs(e,n,t[n]);if(Pn)for(var n of Pn(t))As.call(t,n)&&Cs(e,n,t[n]);return e},"FakeEmbed_spreadValues"),Tl=a((e,t)=>Sl(e,bl(t)),"FakeEmbed_spreadProps"),Ol=a((e,t)=>{var n={};for(var r in e)Os.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Pn)for(var r of Pn(e))t.indexOf(r)<0&&As.call(e,r)&&(n[r]=e[r]);return n},"FakeEmbed_objRest"),Al=a((e,t,n)=>new Promise((r,i)=>{var s=a(l=>{try{u(n.next(l))}catch(c){i(c)}},"fulfilled"),o=a(l=>{try{u(n.throw(l))}catch(c){i(c)}},"rejected"),u=a(l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o),"step");u((n=n.apply(e,t)).next())}),"FakeEmbed_async");const Cl=a(e=>typeof e=="string"&&/[0-9]{1,}%/.test(e)?parseInt(e.replace("%","")):void 0,"parsePercentage"),Dl=a(e=>typeof e=="string"&&/[0-9]{1,}px/.test(e)?parseInt(e.replace("px","")):void 0,"parsePx"),xn=a((e,t)=>{const n=Cl(t),r=Dl(t);return n?e*n/100:r||null},"dimensionToNumber"),Nl=a(({maxWidth:e,maxHeight:t,width:n,height:r,constraintWidth:i,constraintHeight:s})=>{const o=typeof n=="string"&&n!=="auto"?xn(i,n):n,u=typeof e=="string"?xn(i,e):e,l=typeof r=="string"&&r!=="auto"?xn(s,r):r,c=typeof t=="string"?xn(s,t):t;return{width:o,maxWidth:u,height:l,maxHeight:c}},"calculateStyles");function Il(e){return e.clientHeight<e.scrollHeight}a(Il,"isVerticallyScrollable");function Ml(e){return e.clientWidth<e.scrollWidth}a(Ml,"isHorizontallScrollable");const kl=a(({componentType:e,externalProps:t,maxHeight:n=null,maxWidth:r=null,height:i="auto",width:s="auto",constraintRef:o="parent"})=>{const u=(0,E.useRef)(null),l=Xe(),c=El(),h=(0,E.useRef)(),[R,me]=(0,E.useState)(!1),ie=gl(),le=(0,E.useRef)(),Te=(0,E.useRef)({height:i,width:s,maxHeight:n,maxWidth:r}),mt=(0,E.useRef)(),la=(0,E.useCallback)(F=>{!u.current||F.height===void 0||F.width===void 0||l.isNative||(u.current.style.height=F.height+"px",u.current.style.width=F.width+"px")},[]),ca=a(F=>{var q;F.type=="wheel"?sd(F):(q=u.current)==null||q.dispatchEvent(new Event(F.type,Tl(Qe({},F),{bubbles:!0})))},"onDOMEvent"),sd=(0,E.useCallback)(F=>{if(!(!u.current||F.deltaY===void 0||F.deltaX===void 0)){if(F.deltaY){let q=u.current;for(;q&&!Il(q);)q=q.parentElement;q&&(q.scrollTop+=F.deltaY)}if(F.deltaX){let q=u.current;for(;q&&!Ml(q);)q=q.parentElement;q&&(q.scrollLeft+=F.deltaX)}}},[]),da=a(()=>{if(!h.current||!l)return;const F=le.current?Nl({constraintWidth:le.current.constraintWidth,constraintHeight:le.current.constraintHeight,height:Te.current.height,width:Te.current.width,maxHeight:Te.current.maxHeight,maxWidth:Te.current.maxWidth}):{height:Te.current.height,width:Te.current.width,maxHeight:Te.current.maxHeight,maxWidth:Te.current.maxWidth};l.updateFakeEmbedComponentRect(h.current,F)},"updateDimensions"),fa=a(()=>{var F;if(!(l!=null&&l.inSandbox)||!u.current||!h.current)return;const{top:q,left:gt}=u.current.getBoundingClientRect(),vt=((F=c==null?void 0:c.current)==null?void 0:F.getBoundingClientRect())||{top:0,left:0},ze=q-vt.top,yt=gt-vt.left;mt.current&&(mt==null?void 0:mt.current.top)===ze&&(mt==null?void 0:mt.current.left)===yt||(mt.current={left:yt,top:ze},l.updateFakeEmbedComponentRect(h.current,{top:ze,left:yt}))},"handleResizeOrScrollEvent");(0,E.useEffect)(()=>{if(l||console.error("You must wrap your components in a <PluginProvider/> or a renderWidget call."),!l||!u.current)return;ha();const F=Mo();return Al(void 0,null,function*(){var q;const{top:gt,left:vt}=u.current.getBoundingClientRect();mt.current={top:gt,left:vt};const ze=((q=c==null?void 0:c.current)==null?void 0:q.getBoundingClientRect())||{top:0,left:0},yt=gt-ze.top,$r=vt-ze.left;l.event.addListener(b.FakeEmbedComponentDimensionChange,F,la),l.event.addListener(b.FakeEmbedDOMEvent,F,ca),l.isNative&&window.nativePluginDivs.set("virtual-"+F,u.current),yield l.createFakeEmbedComponent({id:F,type:e,top:yt,left:$r,externalProps:t}),h.current=F,me(!0)}),()=>{!h.current||(l.unmountFakeEmbedComponent(h.current),l.isNative&&window.nativePluginDivs.delete("virtual-"+F),l.event.removeListener(b.FakeEmbedComponentDimensionChange,h.current,la),l.event.removeListener(b.FakeEmbedDOMEvent,h.current,ca))}},[]);function ha(){try{JSON.stringify(t)}catch(F){throw console.error("ExternalProps are not serializable.",t),new Error(`All props passed to a RemNote React Component must be JSON serializable. Check the devtools to see your props for your ${e} component.`)}}a(ha,"throwErrorIfExternalPropsAreNotSerializable");function ad(){ha(),h.current&&l.updateFakeEmbedExternalProps(h.current,t)}return a(ad,"updateExternalProps"),Pl(ad,[t]),(0,E.useEffect)(()=>{!R||(Te.current={maxHeight:n,maxWidth:r,height:i,width:s},da())},[n,r,s,i,R]),(0,E.useEffect)(()=>{var F;if((l==null?void 0:l.inSandbox)&&h.current&&R&&o){const q=o==="parent"?(F=u.current)==null?void 0:F.parentElement:o.current;if(!q)return;const gt=new ResizeObserver(vt=>{for(const ze of vt)if(ze.contentBoxSize){const yt=ze.contentBoxSize[0].inlineSize,$r=ze.contentBoxSize[0].blockSize;le.current={constraintHeight:$r,constraintWidth:yt},da()}});return gt.observe(q),()=>gt.disconnect()}},[o,R]),yl(Rn.PluginBodyResizeOrTreeRenders,fa),(0,E.useLayoutEffect)(()=>{if(!(!R||!u.current||!ie))return ie.addListener(u.current,xs.debounce(fa,10)),()=>{u.current&&ie.removeListener(u.current)}},[R]),(0,E.useEffect)(()=>()=>{l&&h.current&&l.unmountFakeEmbedComponent(h.current)},[]),(0,J.jsx)("div",{ref:u,className:"js-fake-embed"})},"FakeEmbedHost"),et=a(e=>{const t=e,{width:n,maxHeight:r,constraintRef:i,height:s,maxWidth:o,componentType:u}=t,l=Ol(t,["width","maxHeight","constraintRef","height","maxWidth","componentType"]);return(0,J.jsx)(kl,{componentType:u,externalProps:l,width:n,height:s,maxHeight:r,maxWidth:o,constraintRef:i})},"FakeEmbedHostConcrete");class Ds extends E.Component{render(){return(0,J.jsx)(et,Qe({componentType:ke.RichTextEditor},this.props))}}a(Ds,"RichTextEditor");class Ns extends E.Component{render(){return(0,J.jsx)(et,Qe({componentType:ke.RichText},this.props))}}a(Ns,"RichText");class Is extends E.Component{render(){return(0,J.jsx)(et,Qe({componentType:ke.RemViewer},this.props))}}a(Is,"RemViewer");class Ms extends E.Component{render(){return(0,J.jsx)(et,Qe({componentType:ke.RemRichTextEditor},this.props))}}a(Ms,"RemRichTextEditor");class ks extends E.Component{render(){return(0,J.jsx)(et,Qe({componentType:ke.RemHierarchyEditorTree},this.props))}}a(ks,"RemHierarchyEditorTree");class Ls extends E.Component{render(){return(0,J.jsx)(et,Qe({componentType:ke.Queue},this.props))}}a(Ls,"Queue");class Fs extends E.Component{render(){return(0,J.jsx)(et,Qe({componentType:ke.LoadingSpinner},this.props))}}a(Fs,"LoadingSpinner");class Vs extends E.Component{render(){return(0,J.jsx)(et,Qe({componentType:ke.PreviewRemCards},this.props))}}a(Vs,"PreviewRemCards");var Ll=K(318),Bs=K.n(Ll),Fl=Object.defineProperty,Vl=a((e,t,n)=>t in e?Fl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"PluginRenderer_defNormalProp"),Zs=a((e,t,n)=>(Vl(e,typeof t!="symbol"?t+"":t,n),n),"PluginRenderer_publicField"),zs=a((e,t,n)=>new Promise((r,i)=>{var s=a(l=>{try{u(n.next(l))}catch(c){i(c)}},"fulfilled"),o=a(l=>{try{u(n.throw(l))}catch(c){i(c)}},"rejected"),u=a(l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o),"step");u((n=n.apply(e,t)).next())}),"PluginRenderer_async");const Bl=a(({plugin:e,children:t})=>{const n=(0,E.useRef)(null);(0,E.useEffect)(()=>{if(!n.current||!e.inSandbox)return;const u=new ResizeObserver(()=>{!n.current||En.emit(Rn.PluginBodyResizeOrTreeRenders)}),l=new MutationObserver((c,h)=>{for(const R of c)(R.type==="attributes"||R.type==="childList")&&En.emit(Rn.PluginBodyResizeOrTreeRenders)});return l.observe(n.current,{attributes:!0,childList:!0,subtree:!0}),u.observe(n.current),()=>{!n.current||(u.disconnect(),l.disconnect())}},[]);const r=e.inSandbox?{current:document.getElementsByTagName("html")[0]}:n,i=e.inSandbox?document.getElementsByTagName("html")[0]:e.mountDiv,s=e.inSandbox?ml:Zl,o=(0,J.jsx)("div",{ref:n,className:"plugin rn-clr-content-primary rn-clr-background-primary",children:t});return(0,J.jsx)(_l,{plugin:e,children:(0,J.jsx)(wl,{pluginRoot:r,children:(0,J.jsx)(s,{root:i,children:o})})})},"PluginWrapper");function Zl(e){return(0,J.jsx)(Lr.Provider,{value:null,children:e.children})}a(Zl,"NoScrollDetector");class Sn extends ar{constructor(t,n){super(),Zs(this,"initReact"),Zs(this,"onDeactivateReact"),this.initReact=t,this.onDeactivateReact=n}onActivate(t,n){return zs(this,null,function*(){this.initReact(this,t,n)})}onDeactivate(){return zs(this,null,function*(){this.onDeactivateReact(this)})}}a(Sn,"ReactRNPlugin");const js=a(e=>{const t=a(n=>{const r=a((s,o,u)=>Bs().render((0,J.jsxs)(E.StrictMode,{children:[(0,J.jsx)(Bl,{plugin:s,children:(0,J.jsx)(e,{})}),(0,J.jsx)("link",{rel:"stylesheet",href:`${u}App.css`,as:"style",type:"text/css",crossOrigin:"anonymous"})]}),o),"initReact"),i=a(s=>{console.log("onDeactivateReact"),Bs().unmountComponentAtNode(s.mountDiv)},"onDeactivateReact");return n?(window.__plugin?(console.log("[HMR] Hot reloading RemNote plugin widget."),i(window.__plugin),r(window.__plugin,window.__plugin.mountDiv,window.__plugin.rootURL)):window.__plugin=new Sn(r,i),window.__plugin):new Sn(r,i)},"makePlugin");try{const n=new URL(IMPORT_META.url).searchParams,r=n.get("widgetName"),i=n.get("pluginId");window.nativePluginRenderers.set(`${i}.${r}`,t)}catch(n){t(!0)}},"renderWidget");function zl(e,t){function n(){const r=Xe();return(0,E.useEffect)(()=>(r&&e(r),()=>{r&&t(r)}),[r]),null}a(n,"IndexWidget"),js(n)}a(zl,"declareIndexPlugin");function jl(e,t){return Fr(b.MessageBroadcast,e,t)}a(jl,"useOnMessageBroadcast");function Fr(e,t,n){const r=Xe();(0,E.useEffect)(()=>(r.event.addListener(e,t,n),()=>{r.event.removeListener(e,t,n)}),[e,t,n])}a(Fr,"useAPIEventListener");var Wl=Object.defineProperty,Ws=Object.getOwnPropertySymbols,Hl=Object.prototype.hasOwnProperty,Ul=Object.prototype.propertyIsEnumerable,Hs=a((e,t,n)=>t in e?Wl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"rem_hooks_defNormalProp"),$l=a((e,t)=>{for(var n in t||(t={}))Hl.call(t,n)&&Hs(e,n,t[n]);if(Ws)for(var n of Ws(t))Ul.call(t,n)&&Hs(e,n,t[n]);return e},"rem_hooks_spreadValues"),ql=a((e,t,n)=>new Promise((r,i)=>{var s=a(l=>{try{u(n.next(l))}catch(c){i(c)}},"fulfilled"),o=a(l=>{try{u(n.throw(l))}catch(c){i(c)}},"rejected"),u=a(l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o),"step");u((n=n.apply(e,t)).next())}),"rem_hooks_async");function Us(e,t){const n=new Set(t);return e.filter(r=>!n.has(r))}a(Us,"rem_hooks_difference");function Gl(e){return e.filter(t=>t)}a(Gl,"rem_hooks_compact");function Xl(e){const t=Xe(),n=Gl(e||[]),[r,i]=(0,E.useState)({}),[s,o]=(0,E.useState)(n.map(R=>r[R])),u=a((R,me)=>{!me||i(ie=>{const le=$l({},ie);return le[R]=me,o(n.map(Te=>le[Te])),le})},"setRem"),l=a(R=>ql(this,null,function*(){u(R,yield t.rem.findOne(R))}),"refetchRem"),c=(0,E.useRef)([]),h=(0,E.useRef)(new Map);return(0,E.useEffect)(()=>{const R=Us(n,c.current),me=Us(c.current,n);for(const ie of R){const le=a(()=>l(ie),"listener");h.current.set(ie,le),t.event.addListener(b.RemChanged,ie,le),l(ie)}for(const ie of me)t.event.removeListener(b.RemChanged,ie,h.current.get(ie));o(n.map(ie=>r[ie])),c.current=n},[n.length,...n]),(0,E.useEffect)(()=>()=>{for(const R of c.current)t.event.removeListener(b.RemChanged,R,h.current.get(R))},[]),s}a(Xl,"useGetRemsByIdsReactive");var $s=a((e,t,n)=>new Promise((r,i)=>{var s=a(l=>{try{u(n.next(l))}catch(c){i(c)}},"fulfilled"),o=a(l=>{try{u(n.throw(l))}catch(c){i(c)}},"rejected"),u=a(l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o),"step");u((n=n.apply(e,t)).next())}),"storage_hooks_async");function Vr(e,t,n,r,i,s){const[o,u]=(0,E.useState)(s),l=a(()=>$s(this,null,function*(){t&&u((yield r(t))||s)}),"refetchValue");return(0,E.useEffect)(()=>{l()},[t]),Fr(n,t,h=>{u(h)}),[o,a(h=>$s(this,null,function*(){yield i(t,h)}),"setValue")]}a(Vr,"useStorageStateInternal");function Ql(e,t){const n=Xe();return Vr(n,e,b.StorageSessionChange,n.storage.getSession,n.storage.setSession,t)}a(Ql,"useSessionStorageState");function Kl(e,t){const n=Xe();return Vr(n,e,b.StorageLocalChange,n.storage.getLocal,n.storage.setLocal,t)}a(Kl,"useLocalStorageState");function Jl(e,t){const n=Xe();return Vr(n,e,b.StorageSyncedChange,n.storage.getSynced,n.storage.setSynced,t)}a(Jl,"useSyncedStorageState");var qs=a((e,t,n)=>new Promise((r,i)=>{var s=a(l=>{try{u(n.next(l))}catch(c){i(c)}},"fulfilled"),o=a(l=>{try{u(n.throw(l))}catch(c){i(c)}},"rejected"),u=a(l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o),"step");u((n=n.apply(e,t)).next())}),"react_hooks_async");function Yl(e,t){const[n,r]=(0,E.useState)(void 0);return(0,E.useEffect)(()=>{qs(this,null,function*(){return r(yield e())})},t),n}a(Yl,"useRunAsync");function ec(e,t){return qs(this,null,function*(){const n=[];for(const r of e)(yield t(r))&&n.push(r);return n})}a(ec,"filterAsync");const tc=["card","editor","focus","messaging","powerup","rem","richText","settings","storage","widget","window","search"],Y=a(e=>({event:b.RemChanged,key:typeof e=="string"?e:typeof e=="object"?e._id:void 0}),"remReactiveDep"),Ve=a(e=>({event:e,key:void 0}),"noKeyDep"),Gs={allRemInDocumentOrPortal:{resultDeps:e=>e.map(Y)},deepRemsBeingReferenced:{resultDeps:e=>e.map(Y)},getAliases:{resultDeps:e=>e.map(Y)},getDescendants:{resultDeps:e=>e.map(Y)},getSources:{resultDeps:e=>e.map(Y)},getTagRems:{resultDeps:e=>e.map(Y)},getParentRem:{resultDeps:e=>[Y(e)]},getChildrenRem:{resultDeps:e=>e.map(Y)},getPortalDirectlyIncludedRem:{resultDeps:e=>e.map(Y)},portalsAndDocumentsIn:{resultDeps:e=>e.map(Y)},remsBeingReferenced:{resultDeps:e=>e.map(Y)},remsReferencingThis:{resultDeps:e=>e.map(Y)},siblingRem:{resultDeps:e=>e.map(Y)},taggedRem:{resultDeps:e=>e.map(Y)}},Xs={rem:{findByName:{resultDeps:e=>[Y(e)]},findOne:{argsDeps:e=>[Y(e[0])]},findMany:{argsDeps:e=>e[0].map(Y)},getAll:{resultDeps:e=>e.map(Y)}},powerup:{getPowerupSlotByCode:{resultDeps:e=>[Y(e)]},getPowerupByCode:{resultDeps:e=>[Y(e)]}},settings:{getSetting:{argsDeps:e=>[{event:b.SettingChanged,key:e[0]}]}},card:{},storage:{getLocal:{argsDeps:e=>[{event:b.StorageLocalChange,key:e[0]}]},getSession:{argsDeps:e=>[{event:b.StorageSessionChange,key:e[0]}]},getSynced:{argsDeps:e=>[{event:b.StorageSyncedChange,key:e[0]}]}},window:{getCurrentWindowTree:{argsDeps:()=>[Ve(b.CurrentWindowTreeChange)]},getFocusedPaneId:{argsDeps:()=>[Ve(b.FocusedPaneChange)]}},editor:{getFocusedEditorText:{argsDeps:()=>[Ve(b.FocusedRemChange),Ve(b.EditorTextEdited)]},getSelection:{argsDeps:()=>[Ve(b.EditorSelectionChanged)]},getSelectedRem:{argsDeps:()=>[Ve(b.EditorSelectionChanged)]},getSelectedText:{argsDeps:()=>[Ve(b.EditorSelectionChanged)]},getCaretPosition:{argsDeps:()=>[Ve(b.EditorSelectionChanged)]}},focus:{getFocusedRem:{argsDeps:()=>[Ve(b.FocusedRemChange)],resultDeps:e=>[Y(e)]},getFocusedPortal:{argsDeps:()=>[Ve(b.FocusedPortalChange)],resultDeps:e=>[Y(e)]}}};var bn=a((e,t,n)=>new Promise((r,i)=>{var s=a(l=>{try{u(n.next(l))}catch(c){i(c)}},"fulfilled"),o=a(l=>{try{u(n.throw(l))}catch(c){i(c)}},"rejected"),u=a(l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o),"step");u((n=n.apply(e,t)).next())}),"useTracker_async");const Ot=!1;function nc(e){return tc.includes(e)}a(nc,"isNamespacedProp");const rc=a((e,t)=>Array.isArray(e)&&e[0]instanceof We?(Ot&&console.log("wrapping result array in Rem proxy"),e.map(n=>Ks(n,t))):e&&e instanceof We?(Ot&&console.log("wrapping result in Rem proxy"),Ks(e,t)):e,"wrapResult"),Qs=a((e,t,n,r)=>new Proxy(e,{apply:(i,s,o)=>bn(void 0,null,function*(){const u=yield i.apply(s,o);return r(t,s,n,o,u),rc(u,r)})}),"wrapFunctionCall");function Ks(e,t){return new Proxy(e,{get(n,r){var i;return typeof n[r]=="function"&&((i=Gs)==null?void 0:i[r])?Qs(n[r],void 0,r,t):n[r]}})}a(Ks,"interceptReactiveRemCalls");function ic(e,t,n){return new Proxy(t,{get(r,i){var s,o;return typeof i=="string"&&typeof r[i]=="function"&&((o=(s=Xs)==null?void 0:s[e])==null?void 0:o[i])?Qs(r[i],e,i,n):r[i]}})}a(ic,"interceptReactiveAPICalls");function sc(e,t){return new Proxy(e,{get(n,r){return nc(r)?ic(r,n[r],t):n[r]}})}a(sc,"interceptAPINamespaceAccesses");function Js(e){return new Set(e==null?void 0:e.map(({reactiveDeps:t})=>t.map(Br)).flat())}a(Js,"subscriptionsToSubscriptionSet");function Br(e){const{event:t,key:n}=e;return`${t}.${n}`}a(Br,"reactiveDepToKey");const ac=a(e=>{const t=[];return{proxy:sc(e,(r,i,s,o,u)=>{var l,c,h,R,me,ie;const le=r?(c=(l=Xs)==null?void 0:l[r])==null?void 0:c[s]:(h=Gs)==null?void 0:h[s],Te=[...((R=le.thisDeps)==null?void 0:R.call(le,i))||[],...((me=le.argsDeps)==null?void 0:me.call(le,o))||[],...((ie=le.resultDeps)==null?void 0:ie.call(le,u))||[]];t.push({methodName:s,args:o,reactiveDeps:Te})}),subscriptions:t}},"wrapApiWithListen"),Zr=a((e,t,n,r,i)=>bn(void 0,null,function*(){const s=ac(e);return yield a(()=>bn(void 0,null,function*(){s.subscriptions.length===0&&console.warn("No reactive method called inside useReactiveAPI hook - did you accidentally use a value returned from usePlugin in another scope?");const u=yield t(s.proxy);Ot&&console.log("useReactiveAPI result",u),r(u)}),"changeHandler")(),oc(e,n,i,s.subscriptions),s.subscriptions}),"createReactiveApi");function oc(e,t,n,r){const i=Js(n||[]),s=Js(r);n==null||n.forEach(({reactiveDeps:o})=>{for(const u of o)if(!s.has(Br(u))){const{event:l,key:c}=u;Ot&&console.log("removeListener",l,c),e.event.removeListener(l,c,t)}}),r==null||r.forEach(({reactiveDeps:o})=>{for(const u of o)if(!i.has(Br(u))){const{event:l,key:c}=u;Ot&&console.log("addListener",l,c),e.event.addListener(l,c,t)}})}a(oc,"updateListeners");function uc(e,t=[]){const n=Xe(),[r,i]=St().useState(),s=(0,E.useRef)(!1),o=(0,E.useRef)(!1),u=(0,E.useRef)(),l=(0,E.useRef)(e);l.current=e;const c=a(()=>{Ot&&console.log("useReactiveAPI RUN",s.current,o.current,u.current,t),s.current?o.current=!0:(s.current=!0,a(()=>bn(this,null,function*(){u.current=yield Zr(n,l.current,c,i,u.current||[]),s.current=!1,o.current&&(o.current=!1,c())}),"effect")())},"run");return St().useEffect(c,t),r}a(uc,"useTracker");var z;(function(e){e.assertEqual=i=>i;function t(i){}a(t,"assertIs"),e.assertIs=t;function n(i){throw new Error}a(n,"assertNever"),e.assertNever=n,e.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),o={};for(const u of s)o[u]=i[u];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(const o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}a(r,"joinValues"),e.joinValues=r,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(z||(z={}));const v=z.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),tt=a(e=>{switch(typeof e){case"undefined":return v.undefined;case"string":return v.string;case"number":return isNaN(e)?v.nan:v.number;case"boolean":return v.boolean;case"function":return v.function;case"bigint":return v.bigint;case"object":return Array.isArray(e)?v.array:e===null?v.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?v.promise:typeof Map!="undefined"&&e instanceof Map?v.map:typeof Set!="undefined"&&e instanceof Set?v.set:typeof Date!="undefined"&&e instanceof Date?v.date:v.object;default:return v.unknown}},"getParsedType"),g=z.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of"]),lc=a(e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),"quotelessJson");class Be extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(s){return s.message},r={_errors:[]},i=a(s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let u=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(u[c]=u[c]||{_errors:[]},u[c]._errors.push(n(o))):u[c]=u[c]||{_errors:[]},u=u[c],l++}}},"processError");return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,z.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}a(Be,"ZodError"),Be.create=e=>new Be(e);const $t=a((e,t)=>{let n;switch(e.code){case g.invalid_type:e.received===v.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case g.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,z.jsonStringifyReplacer)}`;break;case g.unrecognized_keys:n=`Unrecognized key(s) in object: ${z.joinValues(e.keys,", ")}`;break;case g.invalid_union:n="Invalid input";break;case g.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${z.joinValues(e.options)}`;break;case g.invalid_enum_value:n=`Invalid enum value. Expected ${z.joinValues(e.options)}, received '${e.received}'`;break;case g.invalid_arguments:n="Invalid function arguments";break;case g.invalid_return_type:n="Invalid function return type";break;case g.invalid_date:n="Invalid date";break;case g.invalid_string:typeof e.validation=="object"?"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:z.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case g.too_small:e.type==="array"?n=`Array must contain ${e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be greater than ${e.inclusive?"or equal to ":""}${e.minimum}`:e.type==="date"?n=`Date must be greater than ${e.inclusive?"or equal to ":""}${new Date(e.minimum)}`:n="Invalid input";break;case g.too_big:e.type==="array"?n=`Array must contain ${e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be less than ${e.inclusive?"or equal to ":""}${e.maximum}`:e.type==="date"?n=`Date must be smaller than ${e.inclusive?"or equal to ":""}${new Date(e.maximum)}`:n="Invalid input";break;case g.custom:n="Invalid input";break;case g.invalid_intersection_types:n="Intersection results could not be merged";break;case g.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;default:n=t.defaultError,z.assertNever(e)}return{message:n}},"errorMap");let Ys=$t;function cc(e){Ys=e}a(cc,"setErrorMap");function Tn(){return Ys}a(Tn,"getErrorMap");const On=a(e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,s=[...n,...i.path||[]],o=V(p({},i),{path:s});let u="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)u=c(o,{data:t,defaultError:u}).message;return V(p({},i),{path:s,message:i.message||u})},"makeIssue"),dc=[];function y(e,t){const n=On({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Tn(),$t].filter(r=>!!r)});e.common.issues.push(n)}a(y,"addIssueToContext");class pe{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return T;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static mergeObjectAsync(t,n){return at(this,null,function*(){const r=[];for(const i of n)r.push({key:yield i.key,value:yield i.value});return pe.mergeObjectSync(t,r)})}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return T;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),(typeof o.value!="undefined"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:t.value,value:r}}}a(pe,"ParseStatus");const T=Object.freeze({status:"aborted"}),fc=a(e=>({status:"dirty",value:e}),"DIRTY"),_e=a(e=>({status:"valid",value:e}),"OK"),zr=a(e=>e.status==="aborted","isAborted"),jr=a(e=>e.status==="dirty","isDirty"),An=a(e=>e.status==="valid","isValid"),Wr=a(e=>typeof Promise!==void 0&&e instanceof Promise,"isAsync");var L;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(L||(L={}));class Ae{constructor(t,n,r,i){this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._path.concat(this._key)}}a(Ae,"ParseInputLazyPath");const ea=a((e,t)=>{if(An(t))return{success:!0,data:t.value};{if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");const n=new Be(e.common.issues);return{success:!1,error:n}}},"handleResult");function I(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:a((o,u)=>o.code!=="invalid_type"?{message:u.defaultError}:typeof u.data=="undefined"?{message:r!=null?r:u.defaultError}:{message:n!=null?n:u.defaultError},"customMap"),description:i}}a(I,"processCreateParams");class N{constructor(t){this.spa=this.safeParseAsync,this.superRefine=this._refinement,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.default=this.default.bind(this),this.describe=this.describe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return tt(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:tt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new pe,ctx:{common:t.parent.common,data:t.data,parsedType:tt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Wr(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:tt(t)},s=this._parseSync({data:t,path:i.path,parent:i});return ea(i,s)}parseAsync(t,n){return at(this,null,function*(){const r=yield this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error})}safeParseAsync(t,n){return at(this,null,function*(){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:tt(t)},i=this._parse({data:t,path:[],parent:r}),s=yield Wr(i)?i:Promise.resolve(i);return ea(r,s)})}refine(t,n){const r=a(i=>typeof n=="string"||typeof n=="undefined"?{message:n}:typeof n=="function"?n(i):n,"getIssueProperties");return this._refinement((i,s)=>{const o=t(i),u=a(()=>s.addIssue(p({code:g.custom},r(i))),"setError");return typeof Promise!="undefined"&&o instanceof Promise?o.then(l=>l?!0:(u(),!1)):o?!0:(u(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new Ne({schema:this,typeName:S.ZodEffects,effect:{type:"refinement",refinement:t}})}optional(){return Ie.create(this)}nullable(){return st.create(this)}nullish(){return this.optional().nullable()}array(){return Ce.create(this)}promise(){return pt.create(this)}or(t){return Ct.create([this,t])}and(t){return Dt.create(this,t)}transform(t){return new Ne({schema:this,typeName:S.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Dn({innerType:this,defaultValue:n,typeName:S.ZodDefault})}brand(){return new Ur(p({typeName:S.ZodBranded,type:this},I(void 0)))}describe(t){const n=this.constructor;return new n(V(p({},this._def),{description:t}))}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}a(N,"ZodType");const hc=/^c[^\s-]{8,}$/i,pc=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,mc=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;class Ke extends N{constructor(){super(...arguments),this._regex=(t,n,r)=>this.refinement(i=>t.test(i),p({validation:n,code:g.invalid_string},L.errToObj(r))),this.nonempty=t=>this.min(1,L.errToObj(t)),this.trim=()=>new Ke(V(p({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}_parse(t){if(this._getType(t)!==v.string){const s=this._getOrReturnCtx(t);return y(s,{code:g.invalid_type,expected:v.string,received:s.parsedType}),T}const r=new pe;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),y(i,{code:g.too_small,minimum:s.value,type:"string",inclusive:!0,message:s.message}),r.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),y(i,{code:g.too_big,maximum:s.value,type:"string",inclusive:!0,message:s.message}),r.dirty());else if(s.kind==="email")mc.test(t.data)||(i=this._getOrReturnCtx(t,i),y(i,{validation:"email",code:g.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")pc.test(t.data)||(i=this._getOrReturnCtx(t,i),y(i,{validation:"uuid",code:g.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")hc.test(t.data)||(i=this._getOrReturnCtx(t,i),y(i,{validation:"cuid",code:g.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(t.data)}catch(o){i=this._getOrReturnCtx(t,i),y(i,{validation:"url",code:g.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),y(i,{validation:"regex",code:g.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),y(i,{code:g.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),y(i,{code:g.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):z.assertNever(s);return{status:r.value,value:t.data}}_addCheck(t){return new Ke(V(p({},this._def),{checks:[...this._def.checks,t]}))}email(t){return this._addCheck(p({kind:"email"},L.errToObj(t)))}url(t){return this._addCheck(p({kind:"url"},L.errToObj(t)))}uuid(t){return this._addCheck(p({kind:"uuid"},L.errToObj(t)))}cuid(t){return this._addCheck(p({kind:"cuid"},L.errToObj(t)))}regex(t,n){return this._addCheck(p({kind:"regex",regex:t},L.errToObj(n)))}startsWith(t,n){return this._addCheck(p({kind:"startsWith",value:t},L.errToObj(n)))}endsWith(t,n){return this._addCheck(p({kind:"endsWith",value:t},L.errToObj(n)))}min(t,n){return this._addCheck(p({kind:"min",value:t},L.errToObj(n)))}max(t,n){return this._addCheck(p({kind:"max",value:t},L.errToObj(n)))}length(t,n){return this.min(t,n).max(t,n)}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}a(Ke,"ZodString"),Ke.create=e=>new Ke(p({checks:[],typeName:S.ZodString},I(e)));function gc(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(e.toFixed(i).replace(".","")),o=parseInt(t.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}a(gc,"floatSafeRemainder");class nt extends N{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._getType(t)!==v.number){const s=this._getOrReturnCtx(t);return y(s,{code:g.invalid_type,expected:v.number,received:s.parsedType}),T}let r;const i=new pe;for(const s of this._def.checks)s.kind==="int"?z.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),y(r,{code:g.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),y(r,{code:g.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),y(r,{code:g.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?gc(t.data,s.value)!==0&&(r=this._getOrReturnCtx(t,r),y(r,{code:g.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):z.assertNever(s);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,L.toString(n))}gt(t,n){return this.setLimit("min",t,!1,L.toString(n))}lte(t,n){return this.setLimit("max",t,!0,L.toString(n))}lt(t,n){return this.setLimit("max",t,!1,L.toString(n))}setLimit(t,n,r,i){return new nt(V(p({},this._def),{checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:L.toString(i)}]}))}_addCheck(t){return new nt(V(p({},this._def),{checks:[...this._def.checks,t]}))}int(t){return this._addCheck({kind:"int",message:L.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:L.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:L.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:L.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:L.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:L.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int")}}a(nt,"ZodNumber"),nt.create=e=>new nt(p({checks:[],typeName:S.ZodNumber},I(e)));class qt extends N{_parse(t){if(this._getType(t)!==v.bigint){const r=this._getOrReturnCtx(t);return y(r,{code:g.invalid_type,expected:v.bigint,received:r.parsedType}),T}return _e(t.data)}}a(qt,"ZodBigInt"),qt.create=e=>new qt(p({typeName:S.ZodBigInt},I(e)));class Gt extends N{_parse(t){if(this._getType(t)!==v.boolean){const r=this._getOrReturnCtx(t);return y(r,{code:g.invalid_type,expected:v.boolean,received:r.parsedType}),T}return _e(t.data)}}a(Gt,"ZodBoolean"),Gt.create=e=>new Gt(p({typeName:S.ZodBoolean},I(e)));class dt extends N{_parse(t){if(this._getType(t)!==v.date){const s=this._getOrReturnCtx(t);return y(s,{code:g.invalid_type,expected:v.date,received:s.parsedType}),T}if(isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return y(s,{code:g.invalid_date}),T}const r=new pe;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),y(i,{code:g.too_small,message:s.message,inclusive:!0,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),y(i,{code:g.too_big,message:s.message,inclusive:!0,maximum:s.value,type:"date"}),r.dirty()):z.assertNever(s);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new dt(V(p({},this._def),{checks:[...this._def.checks,t]}))}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:L.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:L.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}a(dt,"ZodDate"),dt.create=e=>new dt(p({checks:[],typeName:S.ZodDate},I(e)));class Xt extends N{_parse(t){if(this._getType(t)!==v.undefined){const r=this._getOrReturnCtx(t);return y(r,{code:g.invalid_type,expected:v.undefined,received:r.parsedType}),T}return _e(t.data)}}a(Xt,"ZodUndefined"),Xt.create=e=>new Xt(p({typeName:S.ZodUndefined},I(e)));class Qt extends N{_parse(t){if(this._getType(t)!==v.null){const r=this._getOrReturnCtx(t);return y(r,{code:g.invalid_type,expected:v.null,received:r.parsedType}),T}return _e(t.data)}}a(Qt,"ZodNull"),Qt.create=e=>new Qt(p({typeName:S.ZodNull},I(e)));class ft extends N{constructor(){super(...arguments),this._any=!0}_parse(t){return _e(t.data)}}a(ft,"ZodAny"),ft.create=e=>new ft(p({typeName:S.ZodAny},I(e)));class rt extends N{constructor(){super(...arguments),this._unknown=!0}_parse(t){return _e(t.data)}}a(rt,"ZodUnknown"),rt.create=e=>new rt(p({typeName:S.ZodUnknown},I(e)));class Ze extends N{_parse(t){const n=this._getOrReturnCtx(t);return y(n,{code:g.invalid_type,expected:v.never,received:n.parsedType}),T}}a(Ze,"ZodNever"),Ze.create=e=>new Ze(p({typeName:S.ZodNever},I(e)));class Kt extends N{_parse(t){if(this._getType(t)!==v.undefined){const r=this._getOrReturnCtx(t);return y(r,{code:g.invalid_type,expected:v.void,received:r.parsedType}),T}return _e(t.data)}}a(Kt,"ZodVoid"),Kt.create=e=>new Kt(p({typeName:S.ZodVoid},I(e)));class Ce extends N{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==v.array)return y(n,{code:g.invalid_type,expected:v.array,received:n.parsedType}),T;if(i.minLength!==null&&n.data.length<i.minLength.value&&(y(n,{code:g.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(y(n,{code:g.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all(n.data.map((o,u)=>i.type._parseAsync(new Ae(n,o,n.path,u)))).then(o=>pe.mergeArray(r,o));const s=n.data.map((o,u)=>i.type._parseSync(new Ae(n,o,n.path,u)));return pe.mergeArray(r,s)}get element(){return this._def.type}min(t,n){return new Ce(V(p({},this._def),{minLength:{value:t,message:L.toString(n)}}))}max(t,n){return new Ce(V(p({},this._def),{maxLength:{value:t,message:L.toString(n)}}))}length(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}a(Ce,"ZodArray"),Ce.create=(e,t)=>new Ce(p({type:e,minLength:null,maxLength:null,typeName:S.ZodArray},I(t)));var Cn;(function(e){e.mergeShapes=(t,n)=>p(p({},t),n)})(Cn||(Cn={}));const ta=a(e=>t=>new $(V(p({},e),{shape:()=>p(p({},e.shape()),t)})),"AugmentFactory");function At(e){if(e instanceof $){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Ie.create(At(r))}return new $(V(p({},e._def),{shape:()=>t}))}else return e instanceof Ce?Ce.create(At(e.element)):e instanceof Ie?Ie.create(At(e.unwrap())):e instanceof st?st.create(At(e.unwrap())):e instanceof De?De.create(e.items.map(t=>At(t))):e}a(At,"deepPartialify");class $ extends N{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=ta(this._def),this.extend=ta(this._def)}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=z.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==v.object){const c=this._getOrReturnCtx(t);return y(c,{code:g.invalid_type,expected:v.object,received:c.parsedType}),T}const{status:r,ctx:i}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),u=[];if(!(this._def.catchall instanceof Ze&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||u.push(c);const l=[];for(const c of o){const h=s[c],R=i.data[c];l.push({key:{status:"valid",value:c},value:h._parse(new Ae(i,R,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Ze){const c=this._def.unknownKeys;if(c==="passthrough")for(const h of u)l.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(c==="strict")u.length>0&&(y(i,{code:g.unrecognized_keys,keys:u}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const h of u){const R=i.data[h];l.push({key:{status:"valid",value:h},value:c._parse(new Ae(i,R,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(()=>at(this,null,function*(){const c=[];for(const h of l){const R=yield h.key;c.push({key:R,value:yield h.value,alwaysSet:h.alwaysSet})}return c})).then(c=>pe.mergeObjectSync(r,c)):pe.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return L.errToObj,new $(p(V(p({},this._def),{unknownKeys:"strict"}),t!==void 0?{errorMap:(n,r)=>{var i,s,o,u;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(u=L.errToObj(t).message)!==null&&u!==void 0?u:l}:{message:l}}}:{}))}strip(){return new $(V(p({},this._def),{unknownKeys:"strip"}))}passthrough(){return new $(V(p({},this._def),{unknownKeys:"passthrough"}))}setKey(t,n){return this.augment({[t]:n})}merge(t){return new $({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>Cn.mergeShapes(this._def.shape(),t._def.shape()),typeName:S.ZodObject})}catchall(t){return new $(V(p({},this._def),{catchall:t}))}pick(t){const n={};return z.objectKeys(t).map(r=>{this.shape[r]&&(n[r]=this.shape[r])}),new $(V(p({},this._def),{shape:()=>n}))}omit(t){const n={};return z.objectKeys(this.shape).map(r=>{z.objectKeys(t).indexOf(r)===-1&&(n[r]=this.shape[r])}),new $(V(p({},this._def),{shape:()=>n}))}deepPartial(){return At(this)}partial(t){const n={};if(t)return z.objectKeys(this.shape).map(r=>{z.objectKeys(t).indexOf(r)===-1?n[r]=this.shape[r]:n[r]=this.shape[r].optional()}),new $(V(p({},this._def),{shape:()=>n}));for(const r in this.shape){const i=this.shape[r];n[r]=i.optional()}return new $(V(p({},this._def),{shape:()=>n}))}required(){const t={};for(const n in this.shape){let i=this.shape[n];for(;i instanceof Ie;)i=i._def.innerType;t[n]=i}return new $(V(p({},this._def),{shape:()=>t}))}keyof(){return na(z.objectKeys(this.shape))}}a($,"ZodObject"),$.create=(e,t)=>new $(p({shape:()=>e,unknownKeys:"strip",catchall:Ze.create(),typeName:S.ZodObject},I(t))),$.strictCreate=(e,t)=>new $(p({shape:()=>e,unknownKeys:"strict",catchall:Ze.create(),typeName:S.ZodObject},I(t))),$.lazycreate=(e,t)=>new $(p({shape:e,unknownKeys:"strip",catchall:Ze.create(),typeName:S.ZodObject},I(t)));class Ct extends N{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(s){for(const u of s)if(u.result.status==="valid")return u.result;for(const u of s)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const o=s.map(u=>new Be(u.ctx.common.issues));return y(n,{code:g.invalid_union,unionErrors:o}),T}if(a(i,"handleResults"),n.common.async)return Promise.all(r.map(s=>at(this,null,function*(){const o=V(p({},n),{common:V(p({},n.common),{issues:[]}),parent:null});return{result:yield s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}}))).then(i);{let s;const o=[];for(const l of r){const c=V(p({},n),{common:V(p({},n.common),{issues:[]}),parent:null}),h=l._parseSync({data:n.data,path:n.path,parent:c});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const u=o.map(l=>new Be(l));return y(n,{code:g.invalid_union,unionErrors:u}),T}}get options(){return this._def.options}}a(Ct,"ZodUnion"),Ct.create=(e,t)=>new Ct(p({options:e,typeName:S.ZodUnion},I(t)));class Jt extends N{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==v.object)return y(n,{code:g.invalid_type,expected:v.object,received:n.parsedType}),T;const r=this.discriminator,i=n.data[r],s=this.options.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(y(n,{code:g.invalid_union_discriminator,options:this.validDiscriminatorValues,path:[r]}),T)}get discriminator(){return this._def.discriminator}get validDiscriminatorValues(){return Array.from(this.options.keys())}get options(){return this._def.options}static create(t,n,r){const i=new Map;try{n.forEach(s=>{const o=s.shape[t].value;i.set(o,s)})}catch(s){throw new Error("The discriminator value could not be extracted from all the provided schemas")}if(i.size!==n.length)throw new Error("Some of the discriminator values are not unique");return new Jt(p({typeName:S.ZodDiscriminatedUnion,discriminator:t,options:i},I(r)))}}a(Jt,"ZodDiscriminatedUnion");function Hr(e,t){const n=tt(e),r=tt(t);if(e===t)return{valid:!0,data:e};if(n===v.object&&r===v.object){const i=z.objectKeys(t),s=z.objectKeys(e).filter(u=>i.indexOf(u)!==-1),o=p(p({},e),t);for(const u of s){const l=Hr(e[u],t[u]);if(!l.valid)return{valid:!1};o[u]=l.data}return{valid:!0,data:o}}else if(n===v.array&&r===v.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const o=e[s],u=t[s],l=Hr(o,u);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===v.date&&r===v.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}a(Hr,"mergeValues");class Dt extends N{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=a((s,o)=>{if(zr(s)||zr(o))return T;const u=Hr(s.value,o.value);return u.valid?((jr(s)||jr(o))&&n.dirty(),{status:n.value,value:u.data}):(y(r,{code:g.invalid_intersection_types}),T)},"handleParsed");return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}a(Dt,"ZodIntersection"),Dt.create=(e,t,n)=>new Dt(p({left:e,right:t,typeName:S.ZodIntersection},I(n)));class De extends N{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==v.array)return y(r,{code:g.invalid_type,expected:v.array,received:r.parsedType}),T;if(r.data.length<this._def.items.length)return y(r,{code:g.too_small,minimum:this._def.items.length,inclusive:!0,type:"array"}),T;!this._def.rest&&r.data.length>this._def.items.length&&(y(r,{code:g.too_big,maximum:this._def.items.length,inclusive:!0,type:"array"}),n.dirty());const s=r.data.map((o,u)=>{const l=this._def.items[u]||this._def.rest;return l?l._parse(new Ae(r,o,r.path,u)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>pe.mergeArray(n,o)):pe.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new De(V(p({},this._def),{rest:t}))}}a(De,"ZodTuple"),De.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new De(p({items:e,typeName:S.ZodTuple,rest:null},I(t)))};class Nt extends N{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==v.object)return y(r,{code:g.invalid_type,expected:v.object,received:r.parsedType}),T;const i=[],s=this._def.keyType,o=this._def.valueType;for(const u in r.data)i.push({key:s._parse(new Ae(r,u,r.path,u)),value:o._parse(new Ae(r,r.data[u],r.path,u))});return r.common.async?pe.mergeObjectAsync(n,i):pe.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof N?new Nt(p({keyType:t,valueType:n,typeName:S.ZodRecord},I(r))):new Nt(p({keyType:Ke.create(),valueType:t,typeName:S.ZodRecord},I(n)))}}a(Nt,"ZodRecord");class Yt extends N{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==v.map)return y(r,{code:g.invalid_type,expected:v.map,received:r.parsedType}),T;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([u,l],c)=>({key:i._parse(new Ae(r,u,r.path,[c,"key"])),value:s._parse(new Ae(r,l,r.path,[c,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(()=>at(this,null,function*(){for(const l of o){const c=yield l.key,h=yield l.value;if(c.status==="aborted"||h.status==="aborted")return T;(c.status==="dirty"||h.status==="dirty")&&n.dirty(),u.set(c.value,h.value)}return{status:n.value,value:u}}))}else{const u=new Map;for(const l of o){const c=l.key,h=l.value;if(c.status==="aborted"||h.status==="aborted")return T;(c.status==="dirty"||h.status==="dirty")&&n.dirty(),u.set(c.value,h.value)}return{status:n.value,value:u}}}}a(Yt,"ZodMap"),Yt.create=(e,t,n)=>new Yt(p({valueType:t,keyType:e,typeName:S.ZodMap},I(n)));class it extends N{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==v.set)return y(r,{code:g.invalid_type,expected:v.set,received:r.parsedType}),T;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(y(r,{code:g.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(y(r,{code:g.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const h of l){if(h.status==="aborted")return T;h.status==="dirty"&&n.dirty(),c.add(h.value)}return{status:n.value,value:c}}a(o,"finalizeSet");const u=[...r.data.values()].map((l,c)=>s._parse(new Ae(r,l,r.path,c)));return r.common.async?Promise.all(u).then(l=>o(l)):o(u)}min(t,n){return new it(V(p({},this._def),{minSize:{value:t,message:L.toString(n)}}))}max(t,n){return new it(V(p({},this._def),{maxSize:{value:t,message:L.toString(n)}}))}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}a(it,"ZodSet"),it.create=(e,t)=>new it(p({valueType:e,minSize:null,maxSize:null,typeName:S.ZodSet},I(t)));class ht extends N{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==v.function)return y(n,{code:g.invalid_type,expected:v.function,received:n.parsedType}),T;function r(u,l){return On({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Tn(),$t].filter(c=>!!c),issueData:{code:g.invalid_arguments,argumentsError:l}})}a(r,"makeArgsIssue");function i(u,l){return On({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Tn(),$t].filter(c=>!!c),issueData:{code:g.invalid_return_type,returnTypeError:l}})}a(i,"makeReturnsIssue");const s={errorMap:n.common.contextualErrorMap},o=n.data;return this._def.returns instanceof pt?_e((...u)=>at(this,null,function*(){const l=new Be([]),c=yield this._def.args.parseAsync(u,s).catch(me=>{throw l.addIssue(r(u,me)),l}),h=yield o(...c);return yield this._def.returns._def.type.parseAsync(h,s).catch(me=>{throw l.addIssue(i(h,me)),l})})):_e((...u)=>{const l=this._def.args.safeParse(u,s);if(!l.success)throw new Be([r(u,l.error)]);const c=o(...l.data),h=this._def.returns.safeParse(c,s);if(!h.success)throw new Be([i(c,h.error)]);return h.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new ht(V(p({},this._def),{args:De.create(t).rest(rt.create())}))}returns(t){return new ht(V(p({},this._def),{returns:t}))}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new ht(p({args:t||De.create([]).rest(rt.create()),returns:n||rt.create(),typeName:S.ZodFunction},I(r)))}}a(ht,"ZodFunction");class en extends N{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}a(en,"ZodLazy"),en.create=(e,t)=>new en(p({getter:e,typeName:S.ZodLazy},I(t)));class tn extends N{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return y(n,{code:g.invalid_literal,expected:this._def.value}),T}return{status:"valid",value:t.data}}get value(){return this._def.value}}a(tn,"ZodLiteral"),tn.create=(e,t)=>new tn(p({value:e,typeName:S.ZodLiteral},I(t)));function na(e,t){return new nn(p({values:e,typeName:S.ZodEnum},I(t)))}a(na,"createZodEnum");class nn extends N{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return y(n,{expected:z.joinValues(r),received:n.parsedType,code:g.invalid_type}),T}if(this._def.values.indexOf(t.data)===-1){const n=this._getOrReturnCtx(t),r=this._def.values;return y(n,{received:n.data,code:g.invalid_enum_value,options:r}),T}return _e(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}}a(nn,"ZodEnum"),nn.create=na;class rn extends N{_parse(t){const n=z.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==v.string&&r.parsedType!==v.number){const i=z.objectValues(n);return y(r,{expected:z.joinValues(i),received:r.parsedType,code:g.invalid_type}),T}if(n.indexOf(t.data)===-1){const i=z.objectValues(n);return y(r,{received:r.data,code:g.invalid_enum_value,options:i}),T}return _e(t.data)}get enum(){return this._def.values}}a(rn,"ZodNativeEnum"),rn.create=(e,t)=>new rn(p({values:e,typeName:S.ZodNativeEnum},I(t)));class pt extends N{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==v.promise&&n.common.async===!1)return y(n,{code:g.invalid_type,expected:v.promise,received:n.parsedType}),T;const r=n.parsedType===v.promise?n.data:Promise.resolve(n.data);return _e(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}a(pt,"ZodPromise"),pt.create=(e,t)=>new pt(p({type:e,typeName:S.ZodPromise},I(t)));class Ne extends N{innerType(){return this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null;if(i.type==="preprocess"){const o=i.transform(r.data);return r.common.async?Promise.resolve(o).then(u=>this._def.schema._parseAsync({data:u,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}const s={addIssue:o=>{y(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="refinement"){const o=a(u=>{const l=i.refinement(u,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u},"executeRefinement");if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?T:(u.status==="dirty"&&n.dirty(),o(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?T:(u.status==="dirty"&&n.dirty(),o(u.value).then(()=>({status:n.value,value:u.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!An(o))return o;const u=i.transform(o.value,s);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>An(o)?Promise.resolve(i.transform(o.value,s)).then(u=>({status:n.value,value:u})):o);z.assertNever(i)}}a(Ne,"ZodEffects"),Ne.create=(e,t,n)=>new Ne(p({schema:e,typeName:S.ZodEffects,effect:t},I(n))),Ne.createWithPreprocess=(e,t,n)=>new Ne(p({schema:t,effect:{type:"preprocess",transform:e},typeName:S.ZodEffects},I(n)));class Ie extends N{_parse(t){return this._getType(t)===v.undefined?_e(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}a(Ie,"ZodOptional"),Ie.create=(e,t)=>new Ie(p({innerType:e,typeName:S.ZodOptional},I(t)));class st extends N{_parse(t){return this._getType(t)===v.null?_e(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}a(st,"ZodNullable"),st.create=(e,t)=>new st(p({innerType:e,typeName:S.ZodNullable},I(t)));class Dn extends N{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===v.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}a(Dn,"ZodDefault"),Dn.create=(e,t)=>new Ie(p({innerType:e,typeName:S.ZodOptional},I(t)));class sn extends N{_parse(t){if(this._getType(t)!==v.nan){const r=this._getOrReturnCtx(t);return y(r,{code:g.invalid_type,expected:v.nan,received:r.parsedType}),T}return{status:"valid",value:t.data}}}a(sn,"ZodNaN"),sn.create=e=>new sn(p({typeName:S.ZodNaN},I(e)));const vc=Symbol("zod_brand");class Ur extends N{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}a(Ur,"ZodBranded");const ra=a((e,t={},n)=>e?ft.create().superRefine((r,i)=>{if(!e(r)){const s=typeof t=="function"?t(r):t,o=typeof s=="string"?{message:s}:s;i.addIssue(V(p({code:"custom"},o),{fatal:n}))}}):ft.create(),"custom"),yc={object:$.lazycreate};var S;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded"})(S||(S={}));const _c=a((e,t={message:`Input not instance of ${e.name}`})=>ra(n=>n instanceof e,t,!0),"instanceOfType"),ia=Ke.create,sa=nt.create,wc=sn.create,Ec=qt.create,aa=Gt.create,Rc=dt.create,Pc=Xt.create,xc=Qt.create,Sc=ft.create,bc=rt.create,Tc=Ze.create,Oc=Kt.create,Ac=Ce.create,Cc=$.create,Dc=$.strictCreate,Nc=Ct.create,Ic=Jt.create,Mc=Dt.create,kc=De.create,Lc=Nt.create,Fc=Yt.create,Vc=it.create,Bc=ht.create,Zc=en.create,zc=tn.create,jc=nn.create,Wc=rn.create,Hc=pt.create,oa=Ne.create,Uc=Ie.create,$c=st.create,qc=Ne.createWithPreprocess;var k=Object.freeze({__proto__:null,getParsedType:tt,ZodParsedType:v,defaultErrorMap:$t,setErrorMap:cc,getErrorMap:Tn,makeIssue:On,EMPTY_PATH:dc,addIssueToContext:y,ParseStatus:pe,INVALID:T,DIRTY:fc,OK:_e,isAborted:zr,isDirty:jr,isValid:An,isAsync:Wr,ZodType:N,ZodString:Ke,ZodNumber:nt,ZodBigInt:qt,ZodBoolean:Gt,ZodDate:dt,ZodUndefined:Xt,ZodNull:Qt,ZodAny:ft,ZodUnknown:rt,ZodNever:Ze,ZodVoid:Kt,ZodArray:Ce,get objectUtil(){return Cn},ZodObject:$,ZodUnion:Ct,ZodDiscriminatedUnion:Jt,ZodIntersection:Dt,ZodTuple:De,ZodRecord:Nt,ZodMap:Yt,ZodSet:it,ZodFunction:ht,ZodLazy:en,ZodLiteral:tn,ZodEnum:nn,ZodNativeEnum:rn,ZodPromise:pt,ZodEffects:Ne,ZodTransformer:Ne,ZodOptional:Ie,ZodNullable:st,ZodDefault:Dn,ZodNaN:sn,BRAND:vc,ZodBranded:Ur,custom:ra,Schema:N,ZodSchema:N,late:yc,get ZodFirstPartyTypeKind(){return S},any:Sc,array:Ac,bigint:Ec,boolean:aa,date:Rc,discriminatedUnion:Ic,effect:oa,enum:jc,function:Bc,instanceof:_c,intersection:Mc,lazy:Zc,literal:zc,map:Fc,nan:wc,nativeEnum:Wc,never:Tc,null:xc,nullable:$c,number:sa,object:Cc,oboolean:a(()=>aa().optional(),"oboolean"),onumber:a(()=>sa().optional(),"onumber"),optional:Uc,ostring:a(()=>ia().optional(),"ostring"),preprocess:qc,promise:Hc,record:Lc,set:Vc,strictObject:Dc,string:ia,transformer:oa,tuple:kc,undefined:Pc,union:Nc,unknown:bc,void:Oc,NEVER:T,ZodIssueCode:g,quotelessJson:lc,ZodError:Be});const Gc=/^[-_a-zA-Z0-9]+$/,Xc=k.nativeEnum(Zn),gd=k.nativeEnum(Je),an=k.object({level:Xc}),Qc=k.object({type:k.literal(Je.All)}).merge(an),Kc=k.object({type:k.literal(Je.DescendantsOfName),remName:k.string()}).merge(an),Jc=k.object({type:k.literal(Je.DescendantsOfId),remId:k.string()}).merge(an),Yc=k.object({type:k.literal(Je.Powerup),powerupCode:k.string()}).merge(an),ed=k.object({type:k.literal(Je.FocusedSubtree)}).merge(an),td=k.union([Qc,Kc,Jc,Yc,ed]),ua=k.object({major:k.number().gte(0),minor:k.number().gte(0),patch:k.number().gte(0)}),nd=k.object({id:k.string().min(5).max(100).refine(e=>Gc.test(e),"Plugin ids may consist only of lowercase Latin letters a-z, A-Z, hyphens, underscores, and digits 0-9"),name:k.string().min(3).max(100),version:ua,manifestVersion:k.literal(1),requestNative:k.boolean(),requiredScopes:k.array(td).nonempty(),repoUrl:k.string().url(),author:k.string().min(3).max(100),enableOnMobile:k.boolean(),minimumRemNoteVersion:ua.optional(),description:k.string().max(200).optional(),projectUrl:k.string().url().optional(),supportUrl:k.string().url().optional(),changelogUrl:k.string().url().optional()}),vd=a(e=>`${e.field}: ${e.message}`,"formatValidationError"),rd=a(e=>{const t=e.errors,n=[];for(const r of t){const{code:i,message:s,path:o}=r,u={field:o.join("."),message:`${s} (${i})`};"expected"in r&&(u.expected=r.expected),"received"in r&&(u.received=r.received),n.push(u)}return n},"prettifyZodErrors"),id=a(e=>{const t=nd.safeParse(e);return t.success?t:{success:!1,errors:rd(t.error)}},"parseManifest")}(),It}()});
